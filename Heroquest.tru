!------------- NOTES:-----------------------------------
!---The following variables have to be redefined everytime you encounter an enemy-------------------------------
!----enemyname$,enemylevel,enemymaxHP,enemyHP,enemyarmor,enemyattack,enemyexp,enemylow,enemyhigh,goldlow,goldhigh-----

CALL mainprogram
END
MODULE all
    DECLARE FUNCTION randomnum
    PUBLIC name$,level,strength,stamina,Intellect,Spirit,hp,mana,maxhp,maxmana,location$,DAed,RAed,Hshielded,weaponname$,shieldname$,weaponpower,shieldpower,baseattack,minimumroll,maximumroll,minimumattack,maximumattack,basearmor,buffarmor,spells1$,spells2$,spells3$,spells4$,spells5$,spells6$,spells7$,spells8$,maxexp,exp,gold,strengthincrease,staminaincrease,intellectincrease,spiritincrease,enemyname$,enemylevel,enemymaxHP,enemyHP,enemyarmor,enemyattack,enemystunned,enemyexp,enemylow,enemyhigh,goldlow,goldhigh,superflag,flag,choice,flaggy,flaggy2,flaggy3,ask$,casting,undouble,roll,HoJcooldown,HScooldown,HShieldedcooldown,BoLcooldown
    PUBLIC sword1,sword2,sword3,sword4,sword5,shield1,shield2,shield3,shield4,shield5,food1,food2,food3,food4,food5,food6,drink1,drink2,drink3,drink4,drink5,drink6,potion1,potion2,potion3,potion4,potion5,potion6,potion7,potion8,potion9,potion10,potion11,potion12,WornSword,ShortSword,LongSword,GreatSword,HolyAvenger,Buckler,SmallShield,LargeShield,TowerShield,HolyDefender,knightflag,Savannah,Forest,Lake,Jungle,Frigid,Volcanic,Cathedral,ThunderMountain,PeakofDoom,DragonCave,ThunderSlayed,ShadowSlayed,enemycasting1,enemycasting2,weakpoisoned,stunned,frozen,enemymana,enemymaxmana
    SHARE #1, #2, #3, #4
    SUB MainProgram
        RANDOMIZE
        LET Spells1$ = "-"
        LET Spells2$ = "-"
        LET Spells3$ = "-"
        LET Spells4$ = "-"
        LET Spells5$ = "-"
        LET Spells6$ = "-"
        LET Spells7$ = "-"
        LET Spells8$ = "-"
        LET Spells9$ = "-"
        LET Spells10$ = "-"
        LET WornSword=1
        LET ShortSword=3
        LET LongSword=7
        LET GreatSword=15
        LET HolyAvenger=31
        LET Buckler = 1
        LET SmallShield = 3
        LET LargeShield = 6
        LET TowerShield = 12
        LET HolyDefender = 25
        PRINT "Welcome to Hero Quest!"
        PRINT "Press any key to enter the game!"
        GET KEY key1
        LET level = 1
        LET strength = 10
        LET stamina = 10
        LET Intellect = 10
        LET Spirit = 10
        LET Maxhp = stamina * 2
        LET hp = maxhp
        LET Maxmana = Intellect * 3
        LET mana = maxmana
        LET Location$ = "The Village"
        !Effects--------------------------------------
        LET DAed = 0
        LET RAed = 0
        LET HShielded= 0
        !---------------------------------------------
        LET weaponname$ = "Worn Sword"
        LET weaponpower = WornSword
        LET shieldname$ = "None"
        LET shieldpower = 0


        OPEN #1:screen 0,0.25,0,1
        OPEN #2:screen 0.25,0.8,0,1
        OPEN #3:screen 0.8,1,0,1
        WHEN error in
             OPEN #99: name "Save.txt", access input, create old
             CLOSE #99
             LET exist=1
        USE
             LET exist=0
        END WHEN
        IF exist = 1 then
           OPEN #4:name "Save.txt",create old, access outin
        END IF
        CALL refresh
        WINDOW #2
        DO
           PRINT "1. Start New Game"
           PRINT "2. Load Game"
           PRINT "3. Instructions"
           PRINT "4. Quit"
           INPUT Prompt "What would you like to do? ": choice
           IF choice = 1 then
              WHEN error in
                   OPEN #99: name "Save.txt", access input, create old
                   INPUT#99:name$
                   CLOSE #99
                   LET exist=1
              USE
                   LET exist=0
              END WHEN
              IF exist = 1 then
                 DO
                    PRINT "Starting a new game will delete your current game!"
                    INPUT prompt "Are you sure you want to start a new game?(y/n)":ask$
                    LET ask$ = lcase$(ask$)[1:1]
                    IF ask$ = "y" then
                       LET flaggy7 = 1
                       LET flagflagflag = 1
                       CLOSE #4
                       UNSAVE "Save.txt"
                       OPEN #4:name "Save.txt",create newold, access outin
                    ELSE IF ask$ = "n" then
                       LET flaggy7 = 1
                    ELSE
                       SET COLOR "red"
                       PRINT "Invalid Input."
                       SET COLOR "black"
                       PAUSE 0.5
                    END IF
                    CLEAR
                 LOOP until flaggy7 = 1
              ELSE
                 LET flagflagflag = 1
              END IF
           ELSE IF choice = 2 then
              WHEN error in
                   OPEN #99: name "Save.txt", access input, create old
                   INPUT#99:name$
                   CLOSE #99
                   LET exist=1
              USE
                   LET exist=0
              END WHEN
              IF exist = 1 then
                 CALL LOAD
                 LET flagflagflag = 1
                 LET skipflag = 1
              ELSE
                 SET COLOR "red"
                 PRINT "There isn't a saved game!"
                 SET COLOR "black"
                 PAUSE 0.5
                 CLEAR
              END IF
           ELSE IF choice = 3 then
              PRINT "The following instructions are the condensed version of the"
              PRINT "instructions in the manual that should have come with the game."
              PRINT "It is highly suggested that you read the manual before playing."
              PRINT "Press any key to continue."
              GET KEY keyy
              CLEAR
              PRINT "The user interface of HeroQuest is intuitive and easy for the"
              PRINT "user to maneuver. All that you have to do to play the game is"
              PRINT "read and press the keys that allow you to do actions."
              PRINT
              PRINT "For example, you might see:"
              PRINT "1. Attack"
              PRINT "2. Pass"
              PRINT "3. Flee"
              PRINT "4. Cast a Spell"
              PRINT "5. Use an item"
              PRINT
              PRINT "All you would have to do is enter the number that corresponds"
              PRINT "to the action that you wish to do. In this case, by inputting"
              PRINT "'1' you will attack, by inputting '2' you will pass, and so on."
              PRINT "Press any key to continue."
              GET KEY keyy
              CLEAR
              PRINT "All the information that you will need to know about your"
              PRINT "character is displayed in the left window. This information"
              PRINT "includes your character’s stats, (level, strength, stamina,"
              PRINT "intellect, spirit, hp, mana) location, effects, equipment,"
              PRINT "attack, armor, spells, experience, and gold."
              PRINT
              PRINT "Stats:"
              PRINT "Strength - This stat increases the amount of damage that you"
              PRINT "do. Your attack damage increases by 1 for every 2 strength"
              PRINT "that you have."
              PRINT "Stamina - This stat increases the amount of maximum hitpoints,"
              PRINT "or hp, that you have. This is the most important stat, because"
              PRINT "without a lot of hp, you will die after taking only a few hits!"
              PRINT "Each point of Stamina increases your maximum hp by 2."
              PRINT "Intellect - This stat increases the amount of maximum mana that"
              PRINT "you have. This is also an important stat, because without"
              PRINT "enough mana, you will not be able to cast most of your spells!"
              PRINT "Each point of Intellect increases your maximum mana by 3."
              PRINT "Spirit - This stat increases the amount of mana that you regain"
              PRINT "at the end of your turns in battle. Every 5 spirit restores 1"
              PRINT "mana point at the end of your turns."
              PRINT ""
              PRINT "Press any key to continue."
              GET KEY keyy
              CLEAR
              PRINT "Effects: This shows positive and negative effects that are"
              PRINT "currently on your character. Good effects are displayed in"
              PRINT "green, and bad effects are displayed in red."
              PRINT ""
              PRINT "Attack: This gives you a range of your weakest possible attack"
              PRINT "to your strongest possible attack. This range is affected by"
              PRINT "your strength, your weapon, and by effects currently on your"
              PRINT "character. The range does not account for your enemy’s armor,"
              PRINT "so expect your actual attack to be lower than your attack range"
              PRINT "because of your enemy’s armor."
              PRINT ""
              PRINT "Armor: Armor in HeroQuest is not physical armor, such as a suit"
              PRINT "of armor, but how much damage will be reduced from an enemy’s"
              PRINT "attack. Your armor rating is affected by your shield, and by"
              PRINT "effects currently on your character."
              PRINT ""
              PRINT "Experience and Gold: As you slay creatures, you will gain"
              PRINT "experience(also know as exp) and gold from the creatures."
              PRINT "Once you have gained enough exp, you will grow a level,"
              PRINT "becoming stronger, and unlocking new spells and areas!"
              PRINT "The gold that you get from slaying creatures is used"
              PRINT "for buying items in the stores of the village!"
              PRINT ""
              PRINT "Everything in HeroQuest is pretty much self explanatory,"
              PRINT "so this is all you need to know!"
              PRINT
              PRINT "Good luck and have fun!"
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy
              CLEAR
           ELSE IF choice = 4 then
              LET flagflagflag = 1
              LET superflag = 1
              LET skipflag = 1
           END IF
        LOOP Until flagflagflag = 1
        !---Actual Game-------------------------------------------
        IF skipflag <> 1 then
           CLEAR
           LET played = 1
           WINDOW #2
           PRINT "After travelling a fortnight by boat, you arrive at the village"
           PRINT
           PRINT "You see a knight in armor slowly walking towards you."
           PRINT "Knight: Welcome to our village!"
           IF skipflag <> 1 then
              INPUT Prompt "What is your name? ": name$
              PRINT
              IF name$ <> name$[1:10] then
                 LET name$ = name$[1:10]
                 PRINT "Remembering how long your name can be, you tell him that your name is "; name$
              END IF
           END IF
           PRINT "Press any key to continue"
           GET KEY keyy
           CALL refresh
           PRINT "You see that it is getting dark."
           PRINT
           PRINT name$; ": Hello, Knight. Do you know a good place to spend the night?"
           PRINT "Knight: Yes, You may spend the night at my house."
           PRINT name$; ": Thank you kind sir."
           PRINT
           PRINT "Press any key to continue."
           GET KEY key1
           CLEAR
           PRINT "You follow the knight to his house.He allows you a space in the Barn. Your sleep is uneventful except for the groans of the"
           PRINT "farm animals. Upon waking you head into the main section of the"
           PRINT "house."
           PRINT "You see the knight sitting at the table."
           PRINT "Knight: Hello, "; name$; ". Over the night I have come to a"
           PRINT "decision."
           PRINT "I have decided to take you on as an apprentice to learn the"
           PRINT "ways of the paladin!"
           PRINT "First of all let me see how you are with a weapon..."
           PRINT "He leads you outside of his house."
           PRINT "He releases an angry dog on you!"
           PRINT "Press any key to continue."
           GET KEY key1
           CLEAR
           !------------------BATTLE WITH THE ANGRY DOG-----------------------------------------------------------
           LET enemyname$ = "Angry Dog"
           LET enemylevel = 1
           LET enemymaxHP = 15
           LET enemyHP = enemymaxHP
           LET enemyarmor = 3
           LET enemyhigh = 3
           LET enemylow = 1
           LET enemyexp = 25
           LET goldlow = 1
           LET goldhigh = 3
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Angry Dog's Turn-----------------------------------------------------
              WINDOW #2
              IF enemystunned > 0 then
                 PRINT enemyname$;" is stunned!"
                 PAUSE 0.5
              ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                 CALL enemyattacking
              END IF
              !------------------------------------------------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           !-----------------------------------------------------------------------------------------
           IF flag = 1 then
              SET COLOR "Green"
              PRINT "The Knight casts Holy Light on you, healing you back to full life"
              SET COLOR "black"
              LET hp = maxhp
              CALL refresh
              PRINT "Knight: That was a good fight. To make it easier in the future, I will teach you some spells."
           ELSE IF flag = 2 then
              PRINT "Knight: Why do you flee from such a trivial opponent? You won't get any stronger if you always run from your enemies. I think I know how to make you more confident. I will teach you some spells, which will make your battles a lot easier."
           ELSE IF flag = 3 then
              SET COLOR "Green"
              PRINT "The Knight casts Redemption on you, resurrecting you back to life with minimal hp and mana."
              LET hp = 1
              LET mana = 1
              CALL refresh
              SET COLOR "black"
              PRINT "Press any key to continue."
              GET KEY keyy
              SET COLOR "Green"
              PRINT "The Knight casts Holy Light on you, healing you back to full life"
              SET COLOR "black"
              LET hp = maxhp
              CALL refresh
              PRINT "Press any key to continue."
              GET KEY keyy
              PRINT "Knight: You have lost against a trivial opponent... This greatly dissapoints me. There is almost always a better option than to pass your turn. To make battles easier for you in the future, I will teach you some spells."
           END IF
           LET flag = 0
           LET flaggy = 0
           LET flaggy2 = 0
           PRINT "Press any key to continue."
           GET KEY keyy
           CALL refresh
           CLEAR
           PRINT "The first spell that I will teach you is Devotion Aura."
           PRINT "By casting it, you can increase your armor for 10 battles."
           PRINT "The Devotion Aura spell costs 15 mana."
           PRINT "Every time you gain a level, the power of your Devotion Aura"
           PRINT "will increase."
           SET COLOR "blue"
           PRINT "The Knight teaches you Devotion Aura!"
           LET spells1$ = "1. Devotion Aura"
           SET COLOR "black"
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "Now, I will teach you the Holy Light spell. Holy Light is a spell that you can use to heal yourself."
           PRINT "The cost of your Holy Light increases as your level increases but its effect also increases with it."
           SET COLOR "blue"
           PRINT "The Knight teaches you Holy Light!"
           LET spells2$ = "2. Holy Light"
           SET COLOR "black"
           PRINT name$; ": Thank you Knight!"
           PRINT "Knight: Remember, however, that using spells will drain your mana and you should watch your mana just as much as your health."
           PRINT "Press any key to continue."
           GET KEY key1
           CALL refresh
           PRINT "Knight: Now lets try the same battle again with your newly learned spells!"
           PRINT "He releases another Angry Dog on you!"
           PRINT "Press any key to continue"
           GET KEY keyy
           CLEAR
           !----------Second Battle with the AngryDog--------------------------------------
           LET enemyname$ = "Angry Dog"
           LET enemylevel = 1
           LET enemymaxHP = 15
           LET enemyHP = enemymaxHP
           LET enemyarmor = 3
           LET enemyhigh = 3
           LET enemylow = 1
           LET enemyexp = 25
           LET goldlow = 1
           LET goldhigh = 3
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Angry Dog's Turn-----------------------------------------------------
              WINDOW #2
              IF enemystunned > 0 then
                 PRINT enemyname$;" is stunned!"
                 PAUSE 0.5
              ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                 CALL enemyattacking
              END IF
              !------------------------------------------------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------------------------------------------------
           PRINT "Press any key to continue!"
           GET KEY keyy
           CLEAR
           PRINT "Knight: Now let me show you around our humble village!"
           PRINT "First of all is the Weapon and Armor Shop!"
           PRINT "Weapons and shields are good upgrades, but are expensive. You should stop by when you have more money."
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "Knight: Next is the potion shop. It provides potions which can heal you, or regenerate your mana."
           PRINT "Use potions in important or hard battles to gain an edge over your enemy."
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "Knight: Here is the food and drink shop!"
           PRINT "Eating Food will heal you, and Drinking drinks will regenerate your mana."
           PRINT "Foods heal more health than health potions, and drinks restore more mana than mana potions."
           PRINT "Also, Food and Drink cost less than potions."
           PRINT "Even though food and drink are more effective and cost less, you can only use them outside of combat."
           PRINT "This is why it is a good idea to keep both food/drink and potions."
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "Knight: Well, thats all!"
           SET COLOR "blue"
           PRINT "The Knight gives you 3 Tough Jerkeys!"
           PRINT "The Knight gives you 3 Refreshing Spring Waters!"
           SET COLOR "black"
           LET food1 = food1 + 3
           LET drink1 = drink1 + 3
           PRINT "I will now send you off to explore the world! Remember to come back to me every time you grow a level     !"
           PRINT "You can also come to me to find out how much mana your spells cost and what they do!"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 2
        END IF
        !Free Form Part of the Game---------------------------------------------------------------
        DO while superflag = 0
           LET played = 1
           CALL refresh
           CLEAR
           IF Location$ = "The Village" then
              PRINT "You are in the village."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Go to the Knight's House"
              PRINT "4. Go to the Weapons/Shields store"
              PRINT "5. Go to the Food/Drinks store"
              PRINT "6. Go to the Potions store"
              PRINT "7. Leave the village"
              PRINT "8. Quit Game / Save"
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL Knight
              ELSE IF choice = 4 then
                 CALL WeaponsShieldsStore
              ELSE IF choice = 5 then
                 CALL FoodDrinksStore
              ELSE IF choice = 6 then
                 CALL PotionStore
              ELSE IF choice = 7 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You leave the village."
                 PAUSE 0.5
              ELSE IF choice = 8 then
                 LET superflag = 1
              END IF
           ELSE IF Location$ = "The Outskirts of Town" then
              PRINT "You are at the Outskirts of Town."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Go back to the Village"
              PRINT "4. Go to the Great Plains"
              IF Savannah = 1 then
                 PRINT "5. Go to the Savannah Plains"
              END IF
              IF Forest = 1 then
                 PRINT "6. Go to the Fanged Forest"
              END IF
              IF Lake = 1 then
                 PRINT "7. Go to the Tainted Lake"
              END IF
              IF Jungle = 1 then
                 PRINT "8. Go to the StrangleVine Jungle"
              END IF
              IF Frigid = 1 then
                 PRINT "9. Go to the Frigid Mountains"
              END IF
              IF Volcanic = 1 then
                 PRINT "10. Go to the Volcanic Mountains"
              END IF
              IF Cathedral = 1 then
                 PRINT "11. Go to the Cathedral of the Dark Shadows"
              END IF
              IF ThunderMountain = 1 then
                 PRINT "12. Go to Thunder Moutain"
              END IF
              IF PeakofDoom = 1 then
                 PRINT "13. Go to the Peak of Doom"
              END IF
              IF DragonCave = 1 then
                 PRINT "14. Go to the Infernal Dragon's Cave"
              END IF
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 LET Location$ = "The Village"
                 PRINT "You go back to the village."
              ELSE IF choice = 4 then
                 LET Location$ = "The Great Plains"
                 PRINT "You go to the Great Plains"
                 PAUSE 0.5
              ELSE IF choice = 5 and Savannah = 1 then
                 LET Location$ = "The Savannah Plains"
                 PRINT "You go to the Savannah Plains"
                 PAUSE 0.5
              ELSE IF choice = 6 and Forest = 1 then
                 LET Location$ = "The Fanged Forest"
                 PRINT "You go to the Fanged Forest."
                 PAUSE 0.5
              ELSE IF choice = 7 and Lake = 1 then
                 LET Location$ = "The Tainted Lake"
                 PRINT "You go to the Tainted Lake."
                 PAUSE 0.5
              ELSE IF choice = 8 and Jungle = 1 then
                 LET Location$ = "The StrangleVine Jungle"
                 PRINT "You go to the StrangleVine Jungle."
                 PAUSE 0.5
              ELSE IF choice = 9 and Frigid = 1 then
                 LET Location$ = "The Frigid Mountains"
                 PRINT "You go to the Frigid Mountains."
                 PAUSE 0.5
              ELSE IF choice = 10 and Volcanic = 1 then
                 LET Location$ = "The Volcanic Mountains"
                 PRINT "You go to the Volcanic Mountains."
                 PAUSE 0.5
              ELSE IF choice = 11 and Cathedral = 1 then
                 LET Location$ = "The Cathedral of the Dark Shadows"
                 PRINT "You go to the Cathedral of the Dark Shadows."
                 PAUSE 0.5
              ELSE IF choice = 12 and ThunderMountain = 1 then
                 LET Location$ = "Thunder Mountain"
                 PRINT "You go to Thunder Mountain."
                 PAUSE 0.5
              ELSE IF choice = 13 and PeakofDoom = 1 then
                 LET Location$ = "The Peak of Doom"
                 PRINT "You go to the Peak of Doom."
                 PAUSE 0.5
              ELSE IF choice = 14 and DragonCave = 1 then
                 LET Location$ = "The Infernal Dragon's Cave"
                 PRINT "You go to the Infernal Dragon's Cave!"
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           ELSE IF Location$ = "The Great Plains" then
              PRINT "You are in the Great Plains."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the Great Plains"
              PRINT "4. Go back to the Outskirts of town"
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL GreatPlains
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           ELSE IF Location$ = "The Savannah Plains" then
              PRINT "You are in the Savannah Plains."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the the Savannah Plains"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL SavannahPlains
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF

           ELSE IF Location$ = "The Fanged Forest" then
              PRINT "You are in the Fanged Forest."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the Fanged Forest"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL FangedForest
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF

           ELSE IF Location$ = "The Tainted Lake" then
              PRINT "You are in the Tainted Lake."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the Tainted Lake"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL TaintedLake
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF

           ELSE IF Location$ = "The StrangleVine Jungle" then
              PRINT "You are in the StrangleVine Jungle."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the StrangleVine Jungle"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL StrangleVineJungle
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           ELSE IF Location$ = "The Frigid Mountains" then
              PRINT "You are in the Frigid Mountains."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the Frigid Mountains"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL FrigidMountains
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           ELSE IF Location$ = "The Volcanic Mountains" then
              PRINT "You are in the Volcanic Mountains."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the Volcanic Mountains"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL VolcanicMountains
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF

           ELSE IF Location$ = "The Cathedral of the Dark Shadows" then
              PRINT "You are in the Cathedral of the Dark Shadows."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Adventure in the Cathedral of the Dark Shadows"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL DarkCathedral
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF

           ELSE IF Location$ = "Thunder Mountain" then
              PRINT "You are at the base of Thunder Mountain."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Climb the Mountain"
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL ThunderMountain
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           ELSE IF Location$ = "Peak Of Doom" then
              PRINT "You are at the bottom of the Peak of Doom."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Climb the Peak of Doom."
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL PeakOfDoom
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           ELSE IF Location$ = "The Infernal Dragon's Cave" then
              PRINT "You are outside the The Infernal Dragon's Cave."
              PRINT "1. Cast a spell"
              PRINT "2. Inventory"
              PRINT "3. Venture into the cave..."
              PRINT "4. Go back to the Outskirts of town."
              INPUT Prompt "What would you like to do?":choice
              IF choice = 1 then
                 CALL castspell
              ELSE IF choice = 2 then
                 CALL inventory
              ELSE IF choice = 3 then
                 CALL DragonCave
              ELSE IF choice = 4 then
                 LET Location$ = "The Outskirts of Town"
                 PRINT "You go back to the Outskirts of Town."
                 PAUSE 0.5
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           END IF

        LOOP
        IF played = 1 then
           CALL Save
        END IF
    END SUB
    !--------- This is actually end of main program----------------------------------------------------------------------------
    !--------------------------------------------------------------------------------------------------------------------------
    !--------------------------------------------------------------------------------------------------------------------------


    FUNCTION randomnum(low,high,level)
        IF level <> 0 then
           LET low = level
           LET high = level*3
        END IF
        LET randomnum=int((high-low+1)*rnd)+low
    END FUNCTION

    SUB refresh
        LET maxhp = stamina * 2
        LET maxmana = intellect * 3
        WINDOW #1
        CLEAR
        PRINT Name$
        PRINT "Level"; level
        PRINT "Strength -"; strength
        PRINT "Stamina -"; stamina
        PRINT "Intellect -"; Intellect
        PRINT "Spirit -"; Spirit
        PRINT "HP -"; hp; "/";maxhp
        PRINT "Mana -"; mana; "/"; maxmana

        PRINT

        PRINT "Location:"; Location$

        PRINT

        !Effects
        PRINT "Effects:"
        IF DAed > 0 then
           SET COLOR "Green"
           PRINT "Devotion Aura ("; DAed; "battles )"
           SET COLOR "black"
           LET effected = 1
        END IF
        IF RAed > 0 then
           SET COLOR "Green"
           PRINT "Retribution Aura ("; RAed; "battles )"
           SET COLOR "black"
           LET effected = 1
        END IF
        IF HShielded > 0 then
           SET COLOR "Green"
           PRINT "Holy Shield ("; Hshielded; "turns )"
           SET COLOR "black"
           LET effected = 1
        END IF
        IF BoLed > 0 then
           SET COLOR "Green"
           PRINT "Bursting Light ("; BoLed; "turns )"
           SET COLOR "black"
           LET effected = 1
        END IF
        IF weakpoisoned > 0 then
           SET COLOR "red"
           PRINT "Spider Poison ("; weakpoisoned; "turns )"
           SET COLOR "black"
           LET effected = 1
        END IF
        IF stunned > 0 then
           SET COLOR "red"
           PRINT "Stunned ("; stunned; "turns )"
           SET COLOR "black"
           LET effected = 1
        END IF
        IF frozen > 0 then
           SET COLOR "red"
           PRINT "Frozen ("; frozen; "turns )"
           SET COLOR "black"
           LET effected = 1
        END IF
        IF effected = 0 then
           PRINT "None"
        END IF
        LET effected = 0

        PRINT

        PRINT "Weapon:";
        IF weaponname$ = "" then
           PRINT "None."
        ELSE
           PRINT weaponname$
        END IF

        PRINT "Shield: ";
        IF shieldname$ = "" then
           PRINT "None."
        ELSE
           PRINT shieldname$
        END IF

        LET baseattack = weaponpower + int(strength/2)
        LET minimumroll = level
        LET maximumroll = level*3
        LET minimumattack = baseattack+minimumroll
        LET maximumattack = baseattack+maximumroll
        PRINT "Attack:"; minimumattack; "-"; maximumattack

        LET basearmor = shieldpower
        LET buffarmor = basearmor
        IF DAed > 0 then
           LET buffarmor = buffarmor + level
        END IF
        IF BoLed > 0 then
           LET buffarmor = buffarmor + 7
        END IF
        PRINT "Armor:"; basearmor;
        IF basearmor <> buffarmor then
           SET COLOR "green"
           PRINT "("; buffarmor; ")"
           SET COLOR "black"
        ELSE
           PRINT
        END IF

        PRINT

        PRINT "Spells:"
        IF spells1$ <> "-" then
           PRINT spells1$
        END IF
        IF spells2$ <> "-" then
           PRINT spells2$
        END IF
        IF spells3$ <> "-" then
           PRINT spells3$
        END IF
        IF spells4$ <> "-" then
           PRINT spells4$
        END IF
        IF spells5$ <> "-" then
           PRINT spells5$
        END IF
        IF spells6$ <> "-" then
           PRINT spells6$
        END IF
        IF spells7$ <> "-" then
           PRINT spells7$
        END IF
        IF spells8$ <> "-" then
           PRINT spells8$
        END IF

        PRINT

        LET maxexp = 750 * level
        PRINT "Experience:"; exp; "/"; maxexp

        PRINT "Gold:"; Gold
        WINDOW #2
    END SUB

    SUB Leveled
        WINDOW #2
        LET flag = 0
        LET exp = 0
        LET level = level + 1
        LET maxexp = level*1000
        LET TalentPoints = 15
        CLEAR
        SET COLOR "blue"
        PRINT "You are now level ";level;"!"
        SET COLOR "black"
        PRINT "Press any key to continue."
        GET KEY keyy
        DO
           DO
              PRINT "You have";TalentPoints;"talent points to spend."
              INPUT Prompt "How many Talentpoints do you want to spend on Strength? ": strengthincrease
              IF strengthincrease > TalentPoints then
                 PRINT "You do not have that many talent points."
              ELSE
                 LET flag = 1
              END IF
           LOOP until flag = 1
           LET flag = 0
           DO
              INPUT Prompt "How many Talentpoints do you want to spend on Stamina? ": staminaincrease
              IF staminaincrease > TalentPoints then
                 PRINT "You do not have that many talent points."
              ELSE
                 LET flag = 1
              END IF
           LOOP until flag = 1
           LET flag = 0
           DO
              INPUT Prompt "How many Talentpoints do you want to spend on Intellect? ": intellectincrease
              IF intelligenceincrease > TalentPoints then
                 PRINT "You do not have that many talent points."
              ELSE
                 LET flag = 1
              END IF
           LOOP until flag = 1
           LET flag = 0
           DO
              INPUT Prompt "How many Talentpoints do you want to spend on Spirit? ": spiritincrease
              IF strengthincrease > TalentPoints then
                 PRINT "You do not have that many talent points."
              ELSE
                 LET flag = 1
              END IF
           LOOP until flag = 1
           LET flag = 0

           IF strengthincrease+staminaincrease+intellectincrease+spiritincrease =< talentpoints then
              PRINT "You chose to spend:"
              PRINT strengthincrease; "talent points on strength."
              PRINT staminaincrease; "talent points on stamina."
              PRINT intellectincrease; "talent points on intellect."
              PRINT spiritincrease; "talent points on spirit."
              DO
                 IF strengthincrease+staminaincrease+intellectincrease+spiritincrease < talentpoints then
                    PRINT "You have spent less than 15 talent points!"
                    PRINT "It is strongly reccommended that you spend all 15!"
                    PRINT "If these points are not spent now, they will not be able to be spent later!"
                 END IF
                 INPUT Prompt "Are you sure you want to spend your talent points like this?(y/n) ":ask$
                 LET ask$ = lcase$(ask$)[1:1]
                 IF ask$ = "y" then
                    LET TalentPoints = 0
                    LET strength = strength + strengthincrease
                    LET stamina = stamina + staminaincrease
                    LET intellect = intellect + intellectincrease
                    LET spirit = spirit + spiritincrease
                    LET flag = 1
                 ELSE IF ask$ = "n" then
                    LET flag = 1
                 ELSE
                    PRINT
                    PRINT "Invalid Input."
                    PRINT
                 END IF
              LOOP until flag = 1
           ELSE
              PRINT "You dont have that many talent points!"
           END IF

        LOOP Until TalentPoints = 0
        CALL refresh
        LET hp = maxhp
        LET mana = maxmana
        CALL refresh
        LET flag = 0
    END SUB

    SUB EnemyRefresh
        WINDOW #3
        IF enemyname$ <> "" then
           CLEAR
           PRINT enemyname$
           IF enemyhp < 0 then
              LET enemyhp = 0
           END IF
           PRINT "HP "; enemyhp;"/";enemymaxhp
           IF enemymaxmana <> 0 then
              PRINT "Mana "; enemymana; "/";enemymaxmana
           END IF
           PRINT "Armor ="; enemyarmor
           PRINT "Effects: "
           IF enemystunned > 0 then
              PRINT "Stunned ( ";enemystunned;" turns)"
           END IF
        END IF
        WINDOW #2
    END SUB

    SUB yourturn
        CALL refresh
        CALL enemyrefresh
        IF flag = 0 then
           DO
              WINDOW #2
              CLEAR
              IF stunned > 0 then
                 SET COLOR "red"
                 PRINT "You are stunned!"
                 SET COLOR "black"
                 LET flaggy = 1
                 LET stunned = stunned - 1
              ELSE IF frozen > 0 then
                 SET COLOR "red"
                 PRINT "You are frozen!"
                 SET COLOR "black"
                 LET flaggy = 1
                 LET frozen = frozen - 1
              ELSE IF casting = 1 then
                 IF mana - (level * 10) >= 0 then
                    SET COLOR "green"
                    PRINT "You cast Holy Light on yourself!"
                    SET COLOR "black"
                    LET casting = 0
                    LET Mana = Mana - (level * 10)
                    LET hp = hp + (level * 10)
                    LET flaggy = 1
                    IF hp > maxhp then
                       LET hp = maxhp
                    END IF
                 ELSE
                    SET COLOR "red"
                    PRINT "You dont have enough mana to cast Holy Light! Your mana must have been drained while you were casting it   !"
                    SET COLOR "black"
                    LET casting = 0
                    PRINT "Press any key to continue."
                    GET KEY keyy
                 END IF
              ELSE
                 PRINT "It is your turn!"
                 PRINT "1. Attack"
                 PRINT "2. Pass"
                 PRINT "3. Flee"
                 PRINT "4. Cast a spell"
                 PRINT "5. Use an item"
                 INPUT prompt "What would you like to do? ":choice
                 IF choice = 1 then
                    IF HShielded = 0 then
                       LET roll = randomnum(0,0,level)
                       LET finalattack = baseattack + roll - enemyarmor
                       IF finalattack < 0 then
                          LET finalattack = 0
                       END IF
                       PRINT "You attack the ";enemyname$; " for "; finalattack; " damage!"
                       LET enemyHP = enemyHP - finalattack
                       IF enemyname$ = "Living Flame" then
                          SET COLOR "red"
                          PRINT "You take 4 Fire damage from attacking the Living Flame!"
                          SET COLOR "black"
                          LET hp = hp - 4
                       ELSE IF enemyname$ = "Ice Mage" then
                          LET roll = randomnum(1,4,0)
                          IF roll = 4 then
                             SET COLOR "red"
                             PRINT "As you attack, you are frozen by the Ice Mage's Frost Armor!"
                             SET COLOR "black"
                             LET frozen = 1
                          END IF
                       ELSE IF enemyname$ = "Fire Mage" then
                          LET roll = randomnum(1,4,0)
                          IF roll = 4 then
                             SET COLOR "red"
                             PRINT "As you attack, you are scorched by the Fire Mage's Fire Armor!"
                             PRINT "You take 10 damage!"
                             SET COLOR "black"
                             LET hp = hp - 10
                          END IF
                       ELSE IF enemyname$ = "Shadow Mage" then
                          LET roll = randomnum(1,4,0)
                          IF roll = 4 and enemyhp > 0 then
                             SET COLOR "red"
                             PRINT "As you attack, you activate the Shadow Mage's Shadow Armor!"
                             PRINT "It drains 7 hp from you!"
                             SET COLOR "black"
                             LET hp = hp - 7
                             LET enemyhp = enemyhp + 7
                             IF enemyhp > enemymaxhp then
                                LET enemyhp = enemymaxhp
                             END IF
                          END IF
                       END IF
                       CALL enemyrefresh
                       WINDOW #2
                       IF enemyHP < 0 then
                          LET enemyHP = 0
                       END IF
                       LET flaggy = 1
                    ELSE
                       LET roll = randomnum(0,0,level)
                       LET finalattack = baseattack + roll - enemyarmor
                       LET finalattack = int(finalattack/3)
                       IF finalattack < 0 then
                          LET finalattack = 0
                       END IF
                       PRINT "You attack the ";enemyname$; " for "; finalattack; " damage!"
                       LET enemyHP = enemyHP - finalattack
                       IF enemyname$ = "Living Flame" then
                          SET COLOR "blue"
                          PRINT "Your Holy Shield absorbed the Living Flame's fire damage!"
                          SET COLOR "black"
                       END IF
                       CALL enemyrefresh
                       WINDOW #2
                       IF enemyHP < 0 then
                          LET enemyHP = 0
                       END IF
                       LET flaggy = 1
                    END IF
                 ELSE IF choice = 2 then
                    PRINT "You hold your ground against ";enemyname$
                    LET flaggy = 1
                 ELSE IF choice = 3 then
                    LET roll = randomnum(1,100,0)
                    IF roll >= 1 and roll =< 50 then
                       LET flaggy = 1
                       PRINT "You attempt to flee from ";enemyname$;" ,but you fail to get away!"
                    ELSE IF roll >= 51 and roll =< 100 then
                       WINDOW #2
                       PRINT "You flee from ";enemyname$
                       LET enemyname$ = ""
                       LET flaggy = 1
                       LET flag = 2
                       LET enemystunned = 0
                       LET casting = 0
                       LET enemycasting1 = 0
                       LET enemycasting2 = 0
                       LET DAed = DAed - 1
                       LET RAed = RAed - 1
                       LET HShielded = 0
                       LET BoLed = 0
                       LET HoJcooldown = 0
                       LET HScooldown = 0
                       LET HShieldcooldown = 0
                       LET BoLcooldown = 0
                       LET enemycasting1 = 0
                       LET stunned = 0
                       LET frozen = 0
                       WINDOW #3
                       CLEAR
                       WINDOW #2
                    END IF
                 ELSE IF choice = 4 then
                    IF spells1$ = "-" and spells2$ = "-" and spells3$ = "-" and spells4$ = "-" and spells5$ = "-" and spells6$ = "-" and spells7$ = "-" and spells8$ = "-" then
                       SET COLOR "red"
                       PRINT "You don't know any spells!"
                       SET COLOR "black"
                       PAUSE 0.5
                    ELSE
                       DO
                          IF spells1$ <> "-" then
                             PRINT spells1$
                          END IF
                          IF spells2$ <> "-" then
                             PRINT spells2$
                          END IF
                          IF spells3$ <> "-" then
                             PRINT spells3$
                          END IF
                          IF spells4$ <> "-" then
                             PRINT spells4$
                          END IF
                          IF spells5$ <> "-" then
                             PRINT spells5$
                          END IF
                          IF spells6$ <> "-" then
                             PRINT spells6$
                          END IF
                          IF spells7$ <> "-" then
                             PRINT spells7$
                          END IF
                          IF spells8$ <> "-" then
                             PRINT spells8$
                          END IF
                          PRINT "9. If you decide that you do not want to cast a spell after all."
                          INPUT prompt "What spell would you like to cast?":choice
                          IF choice = 1 and spells1$ <> "-" then
                             IF mana - 15 >= 0 then
                                LET mana = mana - 15
                                LET DAed = 10
                                SET COLOR "green"
                                PRINT "You cast Devotion Aura on yourself!"
                                SET COLOR "black"
                                LET flaggy2 = 1
                                LET flaggy = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "You don't have enough mana to cast that spell!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 2 and spells2$ <> "-" then
                             IF mana - (level * 10) >= 0 then
                                SET COLOR "green"
                                PRINT "You begin to cast Holy Light!"
                                SET COLOR "black"
                                LET casting = 1
                                LET flaggy2 = 1
                                LET flaggy = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "You don't have enough mana to cast that spell!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 3 and spells3$ <> "-" then
                             IF HShielded = 0 then
                                IF HoJcooldown > 0 then
                                   SET COLOR "red"
                                   PRINT "Your Hammer of Justice spell is still on its cooldown! You still can't use it for another ";HoJcooldown;" turns!"
                                   SET COLOR "black"
                                ELSE IF mana - 10 >= 0 then
                                   SET COLOR "blue"
                                   PRINT "You cast Hammer of Justice on ";enemyname$; ", stunning it for 2 turns!"
                                   IF enemycasting1 > 0 then
                                      LET enemycasting1 = 0
                                      PRINT "Your Hammer of Justice interrupted the enemy!"
                                   END IF
                                   IF enemycasting2 > 0 then
                                      LET enemycasting2 = 0
                                      PRINT "Your Hammer of Justice interrupted the enemy!"
                                   END IF
                                   SET COLOR "black"
                                   LET mana = mana - 10
                                   LET enemystunned = 2
                                   LET HoJcooldown = 7

                                   LET flaggy2 = 1
                                   LET flaggy =1
                                ELSE
                                   SET COLOR "red"
                                   PRINT "You don't have enough mana to cast that spell!"
                                   SET COLOR "black"
                                END IF
                             ELSE
                                SET COLOR "red"
                                PRINT "You can't cast offensive spells while your Holy Shield is up!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 4 and spells4$ <> "-" then
                             IF mana - (level * 7) >= 0 then
                                SET COLOR "green"
                                PRINT "You cast Flash of Light on yourself!"
                                SET COLOR "black"
                                LET mana = mana - (level * 7)
                                LET hp = hp + (level * 6)
                                IF hp > maxhp then
                                   LET hp = maxhp
                                END IF
                                LET flaggy2 = 1
                                LET flaggy = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "You don't have enough mana to cast that spell!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 5 and spells5$ <> "-" then
                             IF HShielded = 0 then
                                IF HScooldown > 0 then
                                   SET COLOR "red"
                                   PRINT "Your Holy Shock spell is still on its cooldown! You still can't use it for another ";HScooldown;" turns!"
                                   SET COLOR "black"
                                ELSE IF mana - (level * 4) >= 0 then
                                   SET COLOR "blue"
                                   PRINT "You cast Holy Shock on ";enemyname$;", doing ";(level * 2);" damage, and stunning it for 1 turn!"
                                   IF enemycasting1 > 0 then
                                      LET enemycasting1 = 0
                                      PRINT "Your Holy Shock interrupted the enemy!"
                                   END IF
                                   IF enemycasting2 > 0 then
                                      LET enemycasting2 = 0
                                      PRINT "Your Holy Shock interrupted the enemy!"
                                   END IF
                                   SET COLOR "black"
                                   LET mana = mana - (level * 4)
                                   LET enemyhp = enemyhp - (level * 2)
                                   LET enemystunned = 1
                                   LET HScooldown = 3
                                   LET flaggy2 = 1
                                   LET flaggy = 1
                                ELSE
                                   SET COLOR "red"
                                   PRINT "You don't have enough mana to cast that spell!"
                                   SET COLOR "black"
                                END IF
                             ELSE
                                SET COLOR "red"
                                PRINT "You can't cast offensive spells while your Holy Shield is up!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 6 and spells6$ <> "-" then
                             IF mana - 20 >= 0 then
                                SET COLOR "green"
                                PRINT "You cast Retribution Aura on yourself!"
                                SET COLOR "black"
                                LET mana = mana - 20
                                LET RAed = 10
                                LET flaggy2 = 1
                                LET flaggy = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "You don't have enough mana to cast that spell!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 7 and spells7$ <> "-" then
                             IF HShieldcooldown > 0 then
                                SET COLOR "red"
                                PRINT "Your Holy Shield spell is still on its cooldown! You still can't use it for another ";HShieldcooldown;" turns!"
                                SET COLOR "black"

                             ELSE IF mana - 40 >= 0 then
                                SET COLOR "green"
                                PRINT "You cast Holy Shield on yourself!"
                                SET COLOR "black"
                                LET mana = mana - 40
                                LET HShielded = 5
                                LET HShieldcooldown = 20
                                LET flaggy2 = 1
                                LET flaggy = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "You don't have enough mana to cast that spell!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 8 and spells8$ <> "-" then
                             IF BoLcooldown > 0 then
                                SET COLOR "red"
                                PRINT "Your Burst of Light spell is still on its cooldown! You still can't use it for another ";BoLcooldown;" turns!"
                                SET COLOR "black"
                             ELSE IF mana > 0 then
                                SET COLOR "green"
                                PRINT "You cast Burst of Light on yourself!"
                                SET COLOR "black"
                                LET mana = 0
                                LET hp = maxhp
                                LET BoLed = 3
                                LET BoLcooldown = 20
                                LET flaggy2 = 1
                                LET flaggy = 1
                             ELSE
                                PRINT "You don't have enough mana to cast that spell!"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 9 then
                             LET flaggy2 = 1
                          ELSE
                             PRINT "Invalid Input."
                          END IF
                       LOOP until flaggy2 = 1
                    END IF
                    LET flaggy2 = 0

                 ELSE IF choice = 5 then
                    DO
                       CLEAR
                       IF potion1 > 0 then
                          PRINT "1. Drink Minor Healing Potion (Amount:";potion1;")"
                          LET flag = 1
                       END IF
                       IF potion2 > 0 then
                          PRINT "2. Drink Lesser Healing Potion (Amount:";potion2;")"
                          LET flag = 1
                       END IF
                       IF potion3 > 0 then
                          PRINT "3. Drink Healing Potion (Amount:";potion3;")"
                          LET flag = 1
                       END IF
                       IF potion4 > 0 then
                          PRINT "4. Drink Greater Healing Potion (Amount:";potion4;")"
                          LET flag = 1
                       END IF
                       IF potion5 > 0 then
                          PRINT "5. Drink Superior Healing Potion (Amount:";potion5;")"
                          LET flag = 1
                       END IF
                       IF potion6 > 0 then
                          PRINT "6. Drink Major Healing Potion (Amount:";potion6;")"
                          LET flag = 1
                       END IF
                       IF potion7 > 0 then
                          PRINT "7. Drink Minor Mana Potion (Amount:";potion7;")"
                          LET flag = 1
                       END IF
                       IF potion8 > 0 then
                          PRINT "8. Drink Lesser Mana Potion (Amount:";potion8;")"
                          LET flag = 1
                       END IF
                       IF potion9 > 0 then
                          PRINT "9. Drink Mana Potion (Amount:";potion9;")"
                          LET flag = 1
                       END IF
                       IF potion10 > 0 then
                          PRINT "10. Drink Greater Mana Potion (Amount:";potion10;")"
                          LET flag = 1
                       END IF
                       IF potion11 > 0 then
                          PRINT "11. Drink Superior Mana Potion (Amount:";potion11;")"
                          LET flag = 1
                       END IF
                       IF potion12 > 0 then
                          PRINT "12. Drink Major Mana Potion (Amount:";potion12;")"
                          LET flag = 1
                       END IF
                       IF flag = 0 then
                          SET COLOR "red"
                          PRINT "You don't have any items!"
                          SET COLOR "black"
                          PAUSE 0.5
                          LET flaggy2 = 1
                       ELSE
                          PRINT "13. If you decide to not use an item after all"
                          LET flag = 0
                          INPUT Prompt "What would you like to do?":choice
                          IF choice = 1 then
                             IF potion1 >= 1 then
                                PRINT "You drink a Minor Healing Potion."
                                SET COLOR "green"
                                PRINT "You gain 6 health."
                                SET COLOR "black"
                                LET hp = hp + 6
                                IF hp > maxhp then
                                   LET hp = maxhp
                                END IF
                                LET potion1 = potion1 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 2 then
                             IF potion2 >= 1 then
                                PRINT "You drink a Lesser Healing Potion."
                                SET COLOR "green"
                                PRINT "You gain 13 health."
                                SET COLOR "black"
                                LET hp = hp + 13
                                IF hp > maxhp then
                                   LET hp = maxhp
                                END IF
                                LET potion2 = potion2 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 3 then
                             IF potion3 >= 1 then
                                PRINT "You drink a Healing Potion."
                                SET COLOR "green"
                                PRINT "You gain 21 health."
                                SET COLOR "black"
                                LET hp = hp + 21
                                IF hp > maxhp then
                                   LET hp = maxhp
                                END IF
                                LET potion3 = potion3 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 4 then
                             IF potion4 >= 1 then
                                PRINT "You drink a Greater Healing Potion."
                                SET COLOR "green"
                                PRINT "You gain 29 health."
                                SET COLOR "black"
                                LET hp = hp + 29
                                IF hp > maxhp then
                                   LET hp = maxhp
                                END IF
                                LET potion4 = potion4 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 5 then
                             IF potion5 >= 1 then
                                PRINT "You drink a Superior Healing Potion."
                                SET COLOR "green"
                                PRINT "You gain 38 health."
                                SET COLOR "black"
                                LET hp = hp + 38
                                IF hp > maxhp then
                                   LET hp = maxhp
                                END IF
                                LET potion5 = potion5 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 6 then
                             IF potion6 >= 1 then
                                PRINT "You drink a Major Health Potion."
                                SET COLOR "green"
                                PRINT "You gain 48 health."
                                SET COLOR "black"
                                LET hp = hp + 48
                                IF hp > maxhp then
                                   LET hp = maxhp
                                END IF
                                LET potion6 = potion6 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF

                          ELSE IF choice = 7 then
                             IF potion7 >= 1 then
                                PRINT "You drink a Minor Mana Potion."
                                SET COLOR "green"
                                PRINT "You gain 9 mana."
                                SET COLOR "black"
                                LET mana = mana + 9
                                IF mana > maxmana then
                                   LET mana = maxmana
                                END IF
                                LET potion7 = potion7 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 8 then
                             IF potion8 >= 1 then
                                PRINT "You drink a Lesser Mana Potion."
                                SET COLOR "green"
                                PRINT "You gain 19 mana."
                                SET COLOR "black"
                                LET mana = mana + 19
                                IF mana > maxmana then
                                   LET mana = maxmana
                                END IF
                                LET potion8 = potion8 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 9 then
                             IF potion9 >= 1 then
                                PRINT "You drink a Mana Potion."
                                SET COLOR "green"
                                PRINT "You gain 30 mana."
                                SET COLOR "black"
                                LET mana = mana + 30
                                IF mana > maxmana then
                                   LET mana = maxmana
                                END IF
                                LET potion9 = potion9 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 10 then
                             IF potion10 >= 1 then
                                PRINT "You drink a Greater Mana Potion."
                                SET COLOR "green"
                                PRINT "You gain 43 mana."
                                SET COLOR "black"
                                LET mana = mana + 43
                                IF mana > maxmana then
                                   LET mana = maxmana
                                END IF
                                LET potion10 = potion10 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 11 then
                             IF potion11 >= 1 then
                                PRINT "You drink a Superior Mana Potion."
                                SET COLOR "green"
                                PRINT "You gain 58 mana."
                                SET COLOR "black"
                                LET mana = mana + 58
                                IF mana > maxmana then
                                   LET mana = maxmana
                                END IF
                                LET potion11 = potion11 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 12 then
                             IF potion12 >= 1 then
                                PRINT "You drink a Major Mana Potion."
                                SET COLOR "green"
                                PRINT "You gain 75 mana."
                                SET COLOR "black"
                                LET mana = mana + 75
                                IF mana > maxmana then
                                   LET mana = maxmana
                                END IF
                                LET potion12 = potion12 - 1
                                LET flaggy = 1
                                LET flaggy2 = 1
                             ELSE
                                SET COLOR "red"
                                PRINT "Invalid Input"
                                SET COLOR "black"
                             END IF
                          ELSE IF choice = 13 then
                             LET flaggy2 = 1
                          ELSE
                             SET COLOR "red"
                             PRINT "Invalid Input."
                             SET COLOR "black"
                          END IF
                          PAUSE 0.5
                          CALL refresh
                       END IF
                    LOOP until flaggy2 = 1
                    LET flaggy2 = 0
                 END IF
              END IF
           LOOP until flaggy = 1
           LET flaggy = 0
        END IF
    END SUB

    SUB checking1
        WINDOW #2
        IF hp < 0 then
           LET hp = 0
           CALL refresh
           WINDOW #2
        END IF
        IF enemyhp < 0 then
           LET enemyhp = 0
           CALL enemyrefresh
           WINDOW #2
        END IF
        IF hp = 0 then
           LET mana = 0
           LET gold = int(gold/2)
           SET COLOR "red"
           PRINT "You are dead!"
           SET COLOR "black"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET enemystunned = 0
           LET casting = 0
           LET DAed = 0
           LET RAed = 0
           LET HShielded = 0
           LET BoLed = 0
           LET HoJcooldown = 0
           LET HScooldown = 0
           LET HShieldcooldown = 0
           LET BoLcooldown = 0
           LET enemycasting1 = 0
           LET enemycasting2 = 0
           LET stunned = 0
           LET frozen = 0
           LET weakpoisoned = 0
           PRINT "Your spirit drifts back to the Knight."
           SET COLOR "green"
           PRINT "The Knight casts Redemption on you, resurrecting you back to life with minimal hp and mana."
           SET COLOR "black"
           LET hp = 1
           LET mana = 1
           CALL refresh
           SET COLOR "black"
           PRINT "Press any key to continue."
           GET KEY keyy
           SET COLOR "Green"
           PRINT "The Knight casts Holy Light on you, healing you back to full life"
           SET COLOR "black"
           LET hp = maxhp
           CALL refresh
           PRINT "Press any key to continue."
           GET KEY keyy
           LET Location$ = "The Village"
           LET flag = 3
           LET undouble = 1
        ELSE IF enemyHP = 0 then
           SET COLOR "blue"
           PRINT "You Slayed the "; enemyname$;"!"
           SET COLOR "black"
           LET flag = 1
           LET undouble = 1
        END IF
        IF HoJcooldown > 0 then
           LET HoJcooldown = HoJcooldown - 1
        END IF
        IF HScooldown > 0 then
           LET HScooldown = HScooldown - 1
        END IF
        IF HShieldcooldown > 0 then
           LET HShieldcooldown = HShieldcooldown - 1
        END IF
        IF BoLcooldown > 0 then
           LET BoLcooldown = BoLcooldown - 1
        END IF
        IF weakpoisoned > 0 then
           LET weakpoisoned = weakpoisoned - 1
           SET COLOR "red"
           LET hp = hp - 3
           SET COLOR "red"
           PRINT "You take 3 damage from the Spider's Poison!"
           SET COLOR "black"
        END IF
        LET mana = mana + (int(spirit/5))
        IF mana > maxmana then
           LET mana = maxmana
        END IF
    END SUB

    SUB checking2
        WINDOW #2
        IF hp < 0 then
           LET hp = 0
           CALL refresh
           WINDOW #2
        END IF
        IF hp = 0 then
           LET mana = 0
           LET gold = int(gold/2)
           SET COLOR "red"
           PRINT "You are dead!"
           SET COLOR "black"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET enemystunned = 0
           LET casting = 0
           LET DAed = 0
           LET RAed = 0
           LET HShielded = 0
           LET BoLed = 0
           LET HoJcooldown = 0
           LET HScooldown = 0
           LET HShieldcooldown = 0
           LET BoLcooldown = 0
           LET enemycasting1 = 0
           LET enemycasting2 = 0
           LET stunned = 0
           LET frozen = 0
           LET weakpoisoned = 0
           PRINT "Your spirit drifts back to the Knight."
           SET COLOR "green"
           PRINT "The Knight casts Redemption on you, resurrecting you back to life with minimal hp and mana."
           SET COLOR "black"
           LET hp = 1
           LET mana = 1
           CALL refresh
           SET COLOR "black"
           PRINT "Press any key to continue."
           GET KEY keyy
           SET COLOR "Green"
           PRINT "The Knight casts Holy Light on you, healing you back to full life"
           SET COLOR "black"
           LET hp = maxhp
           CALL refresh
           PRINT "Press any key to continue."
           GET KEY keyy
           LET Location$ = "The Village"
           LET flag = 3
           LET undouble = 1
        ELSE IF enemyHP = 0 and undouble = 0 then
           SET COLOR "blue"
           PRINT "You Slayed the "; enemyname$;"!"
           SET COLOR "black"
           LET flag = 1
        END IF
        IF HShielded > 0 then
           LET HShielded = HShielded - 1
        END IF
        IF enemystunned > 0 then
           LET enemystunned = enemystunned - 1
        END IF
        IF BoLed > 0 then
           LET BoLed = BoLed - 1
        END IF
    END SUB
    SUB enemyattacking
        WINDOW #2
        IF HShielded > 0 then
           SET COLOR "blue"
           PRINT "Your enemy attacks you, but can't get through your Holy Shield!"
           SET COLOR "black"
           PRINT "Press any key to continue."
           GET KEY keyy
        ELSE
           LET roll = randomnum(enemylow,enemyhigh,0)
           LET enemyattack = roll - buffarmor
           IF enemyattack < 0 then
              LET enemyattack = 0
           END IF
           LET hp = hp - enemyattack
           PRINT enemyname$;" attacks you for ";enemyattack;" damage!"
           IF RAed > 0 then
              SET COLOR "blue"
              PRINT enemyname$;" takes ";level;" damage from your Retribution Aura!"
              SET COLOR "black"
              LET enemyhp = enemyhp - level
           END IF
           IF enemyname$ = "Electric Eel" then
              LET roll = randomnum(1,100,0)
              IF roll >= 75 then
                 SET COLOR "red"
                 PRINT "The Electric Eel's attack shocks you, stunning you for 1 turn!"
                 SET COLOR "black"
                 LET stunned = 1
              END IF
           END IF


           CALL refresh
           CALL enemyrefresh
           WINDOW #2
           PRINT "Press any key to continue."
           GET KEY keyy
        END IF
        LET undouble = 0
    END SUB

    SUB winbattle
        WINDOW #3
        CLEAR
        WINDOW #2
        LET roll = randomnum(goldlow,goldhigh,0)
        LET roll = roll + int(roll/4)
        PRINT "You have gained ";roll;" gold!"
        LET gold = gold + roll
        PRINT "You have gained ";(enemyexp);" exp!"
        LET exp = exp + (enemyexp)
        LET enemystunned = 0
        LET casting = 0
        LET DAed = DAed - 1
        LET RAed = RAed - 1
        LET HShielded = 0
        LET BoLed = 0
        LET HoJcooldown = 0
        LET HScooldown = 0
        LET HShieldcooldown = 0
        LET BoLcooldown = 0
        LET enemycasting1 = 0
        LET stunned = 0
        LET frozen = 0
        IF exp >= maxexp then
           CALL Leveled
        END IF
        CALL refresh
        PRINT "Press any key to continue"
        GET KEY keyy
    END SUB

    SUB Inventory
        WINDOW #2
        DO
           CLEAR
           LET flag = 0
           PRINT "Inventory:"
           PRINT "1. Weapons"
           PRINT "2. Shields"
           PRINT "3. Food"
           PRINT "4. Drinks"
           PRINT "5. Potions"
           PRINT "6. To close inventory"
           INPUT Prompt "What type of items would you like to view?":choice
           IF choice = 1 then
              DO
                 DO
                    CLEAR
                    PRINT "Weapons:"
                    IF sword1 > 0 then
                       PRINT "1. Equip Worn Sword (Amount:";sword1;")"
                       LET flag = 1
                    END IF
                    IF sword2 > 0 then
                       PRINT "2. Equip Short Sword (Amount:";sword2;")"
                       LET flag = 1
                    END IF
                    IF sword3 > 0 then
                       PRINT "3. Equip Long Sword (Amount:";sword3;")"
                       LET flag = 1
                    END IF
                    IF sword4 > 0 then
                       PRINT "4. Equip Great Sword (Amount:";sword4;")"
                       LET flag = 1
                    END IF
                    IF sword5 > 0 then
                       PRINT "5. Equip Holy Avenger (Amount:";sword5;")"
                       LET flag = 1
                    END IF
                    IF flag = 0 then
                       PRINT "None"
                    END IF
                    PRINT "6. To go back to main inventory"
                    LET flag = 0
                    INPUT Prompt "What would you like to do?":choice
                    IF choice = 1 then
                       IF sword1 >= 1 then
                          PRINT "You equip Worn Sword"
                          IF weaponname$ = "Worn Sword" then
                             LET sword1 = sword1 + 1
                          ELSE IF weaponname$ = "Short Sword" then
                             LET sword2 = sword2 + 1
                          ELSE IF weaponname$ = "Long Sword" then
                             LET sword3 = sword3 + 1
                          ELSE IF weaponname$ = "Great Sword" then
                             LET sword4 = sword4 + 1
                          ELSE IF weaponname$ = "Holy Avenger" then
                             LET sword5 = sword5 + 1
                          END IF
                          LET weaponname$ = "Worn Sword"
                          LET weaponpower = WornSword
                          LET sword1 = sword1 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 2 then
                       IF sword2 >= 1 then
                          PRINT "You equip Short Sword"
                          IF weaponname$ = "Worn Sword" then
                             LET sword1 = sword1 + 1
                          ELSE IF weaponname$ = "Short Sword" then
                             LET sword2 = sword2 + 1
                          ELSE IF weaponname$ = "Long Sword" then
                             LET sword3 = sword3 + 1
                          ELSE IF weaponname$ = "Great Sword" then
                             LET sword4 = sword4 + 1
                          ELSE IF weaponname$ = "Holy Avenger" then
                             LET sword5 = sword5 + 1
                          END IF
                          LET weaponname$ = "Short Sword"
                          LET weaponpower = ShortSword
                          LET sword2 = sword2 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 3 then
                       IF sword3 >= 1 then
                          PRINT "You equip Long Sword"
                          IF weaponname$ = "Worn Sword" then
                             LET sword1 = sword1 + 1
                          ELSE IF weaponname$ = "Short Sword" then
                             LET sword2 = sword2 + 1
                          ELSE IF weaponname$ = "Long Sword" then
                             LET sword3 = sword3 + 1
                          ELSE IF weaponname$ = "Great Sword" then
                             LET sword4 = sword4 + 1
                          ELSE IF weaponname$ = "Holy Avenger" then
                             LET sword5 = sword5 + 1
                          END IF
                          LET weaponname$ = "Long Sword"
                          LET weaponpower = LongSword
                          LET sword3 = sword3 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 4 then
                       IF sword4 >= 1 then
                          PRINT "You equip Great Sword"
                          IF weaponname$ = "Worn Sword" then
                             LET sword1 = sword1 + 1
                          ELSE IF weaponname$ = "Short Sword" then
                             LET sword2 = sword2 + 1
                          ELSE IF weaponname$ = "Long Sword" then
                             LET sword3 = sword3 + 1
                          ELSE IF weaponname$ = "Great Sword" then
                             LET sword4 = sword4 + 1
                          ELSE IF weaponname$ = "Holy Avenger" then
                             LET sword5 = sword5 + 1
                          END IF
                          LET weaponname$ = "Great Sword"
                          LET weaponpower = GreatSword
                          LET sword4 = sword4 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 5 then
                       IF sword5 >= 1 then
                          PRINT "You equip Holy Avenger"
                          IF weaponname$ = "Worn Sword" then
                             LET sword1 = sword1 + 1
                          ELSE IF weaponname$ = "Short Sword" then
                             LET sword2 = sword2 + 1
                          ELSE IF weaponname$ = "Long Sword" then
                             LET sword3 = sword3 + 1
                          ELSE IF weaponname$ = "Great Sword" then
                             LET sword4 = sword4 + 1
                          ELSE IF weaponname$ = "Holy Avenger" then
                             LET sword5 = sword5 + 1
                          END IF
                          LET weaponname$ = "Holy Avenger"
                          LET weaponpower = HolyAvenger
                          LET sword5 = sword5 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 6 then
                       LET flaggy = 1
                       LET flag = 1
                    ELSE
                       SET COLOR "red"
                       PRINT "Invalid Input."
                       SET COLOR "black"
                    END IF
                    PAUSE 0.5
                    CALL refresh
                 LOOP until flaggy = 1
                 LET flaggy = 0
              LOOP until flag = 1
              LET flag = 0

           ELSE IF choice = 2 then
              DO
                 DO
                    CLEAR
                    PRINT "Shields:"
                    IF shield1 > 0 then
                       PRINT "1. Equip Buckler (Amount:";shield1;")"
                       LET flag = 1
                    END IF
                    IF shield2 > 0 then
                       PRINT "2. Equip Small Shield (Amount:";shield2;")"
                       LET flag = 1
                    END IF
                    IF shield3 > 0 then
                       PRINT "3. Equip Large Shield (Amount:";shield3;")"
                       LET flag = 1
                    END IF
                    IF shield4 > 0 then
                       PRINT "4. Equip Tower Shield (Amount:";shield4;")"
                       LET flag = 1
                    END IF
                    IF shield5 > 0 then
                       PRINT "5. Equip Holy Defender (Amount:";shield5;")"
                       LET flag = 1
                    END IF
                    IF flag = 0 then
                       PRINT "None"
                    END IF
                    PRINT "6. To go back to main inventory"
                    LET flag = 0
                    INPUT Prompt "What would you like to do?":choice
                    IF choice = 1 then
                       IF shield1 >= 1 then
                          PRINT "You equip Buckler"
                          IF shieldname$ = "Buckler" then
                             LET shield1 = shield1 + 1
                          ELSE IF shieldname$ = "Small Shield" then
                             LET shield2 = shield2 + 1
                          ELSE IF shieldname$ = "Large Shield" then
                             LET shield3 = shield3 + 1
                          ELSE IF shieldname$ = "Tower Shield" then
                             LET shield4 = shield4 + 1
                          ELSE IF shieldname$ = "Holy Defender" then
                             LET shield5 = shield5 + 1
                          END IF
                          LET shieldname$ = "Buckler"
                          LET shieldpower = Buckler
                          LET shield1 = shield1 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 2 then
                       IF shield2 >= 1 then
                          PRINT "You equip Small Shield"
                          IF shieldname$ = "Buckler" then
                             LET shield1 = shield1 + 1
                          ELSE IF shieldname$ = "Small Shield" then
                             LET shield2 = shield2 + 1
                          ELSE IF shieldname$ = "Large Shield" then
                             LET shield3 = shield3 + 1
                          ELSE IF shieldname$ = "Tower Shield" then
                             LET shield4 = shield4 + 1
                          ELSE IF shieldname$ = "Holy Defender" then
                             LET shield5 = shield5 + 1
                          END IF
                          LET shieldname$ = "Small Shield"
                          LET shieldpower = SmallShield
                          LET shield2 = shield2 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 3 then
                       IF shield3 >= 1 then
                          PRINT "You equip Large Shield"
                          IF shieldname$ = "Buckler" then
                             LET shield1 = shield1 + 1
                          ELSE IF shieldname$ = "Small Shield" then
                             LET shield2 = shield2 + 1
                          ELSE IF shieldname$ = "Large Shield" then
                             LET shield3 = shield3 + 1
                          ELSE IF shieldname$ = "Tower Shield" then
                             LET shield4 = shield4 + 1
                          ELSE IF shieldname$ = "Holy Defender" then
                             LET shield5 = shield5 + 1
                          END IF
                          LET shieldname$ = "Large Shield"
                          LET shieldpower = LargeShield
                          LET shield3 = shield3 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 4 then
                       IF shield4 >= 1 then
                          PRINT "You equip Tower Shield"
                          IF shieldname$ = "Buckler" then
                             LET shield1 = shield1 + 1
                          ELSE IF shieldname$ = "Small Shield" then
                             LET shield2 = shield2 + 1
                          ELSE IF shieldname$ = "Large Shield" then
                             LET shield3 = shield3 + 1
                          ELSE IF shieldname$ = "Tower Shield" then
                             LET shield4 = shield4 + 1
                          ELSE IF shieldname$ = "Holy Defender" then
                             LET shield5 = shield5 + 1
                          END IF
                          LET shieldname$ = "Tower Shield"
                          LET shieldpower = TowerShield
                          LET shield4 = shield4 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 5 then
                       IF shield5 >= 1 then
                          PRINT "You equip Holy Defender"
                          IF shieldname$ = "Buckler" then
                             LET shield1 = shield1 + 1
                          ELSE IF shieldname$ = "Small Shield" then
                             LET shield2 = shield2 + 1
                          ELSE IF shieldname$ = "Large Shield" then
                             LET shield3 = shield3 + 1
                          ELSE IF shieldname$ = "Tower Shield" then
                             LET shield4 = shield4 + 1
                          ELSE IF shieldname$ = "Holy Defender" then
                             LET shield5 = shield5 + 1
                          END IF
                          LET shieldname$ = "Holy Defender"
                          LET shieldpower = HolyDefender
                          LET shield5 = shield5 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input."
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 6 then
                       LET flaggy = 1
                       LET flag = 1
                    ELSE
                       SET COLOR "red"
                       PRINT "Invalid Input."
                       SET COLOR "black"
                    END IF
                    PAUSE 0.5
                    CALL refresh
                 LOOP until flaggy = 1
                 LET flaggy = 0
              LOOP until flag = 1
              LET flag = 0
           ELSE IF choice = 3 then
              DO
                 DO
                    CLEAR
                    PRINT "Food:"
                    IF food1 > 0 then
                       PRINT "1. Eat Tough Jerky (Amount:";food1;")"
                       LET flag = 1
                    END IF
                    IF food2 > 0 then
                       PRINT "2. Eat Haunch of Meat (Amount:";food2;")"
                       LET flag = 1
                    END IF
                    IF food3 > 0 then
                       PRINT "3. Eat Mutton Chop (Amount:";food3;")"
                       LET flag = 1
                    END IF
                    IF food4 > 0 then
                       PRINT "4. Eat Wild Hog Shank (Amount:";food4;")"
                       LET flag = 1
                    END IF
                    IF food5 > 0 then
                       PRINT "5. Eat Cured Ham Steak (Amount:";food5;")"
                       LET flag = 1
                    END IF
                    IF food6 > 0 then
                       PRINT "6. Eat Roasted Quail (Amount:";food6;")"
                       LET flag = 1
                    END IF
                    IF flag = 0 then
                       PRINT "None"
                    END IF
                    LET flag = 0
                    PRINT "7. To go back to main inventory"
                    INPUT Prompt "What would you like to do?":choice
                    IF choice = 1 then
                       IF food1 >= 1 then
                          PRINT "You eat some Tough Jerkey."
                          SET COLOR "green"
                          PRINT "You gain 8 health."
                          SET COLOR "black"
                          LET hp = hp + 8
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET food1 = food1 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 2 then
                       IF food2 >= 1 then
                          PRINT "You eat a Haunch of Meat."
                          SET COLOR "green"
                          PRINT "You gain 16 health."
                          SET COLOR "black"
                          LET hp = hp + 16
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET food2 = food2 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 3 then
                       IF food3 >= 1 then
                          PRINT "You eat some Mutton Chop."
                          SET COLOR "green"
                          PRINT "You gain 25 health."
                          SET COLOR "black"
                          LET hp = hp + 25
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET food3 = food3 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 4 then
                       IF food4 >= 1 then
                          PRINT "You eat a Wild Hog Shank."
                          SET COLOR "green"
                          PRINT "You gain 35 health."
                          SET COLOR "black"
                          LET hp = hp + 35
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET food4 = food4 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 5 then
                       IF food5 >= 1 then
                          PRINT "You eat a Cured Ham Steak."
                          SET COLOR "green"
                          PRINT "You gain 46 health."
                          SET COLOR "black"
                          LET hp = hp + 46
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET food5 = food5 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 6 then
                       IF food6 >= 1 then
                          PRINT "You eat a Roasted Quail."
                          SET COLOR "green"
                          PRINT "You gain 58 health."
                          SET COLOR "black"
                          LET hp = hp + 58
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET food6 = food6 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 7 then
                       LET flaggy = 1
                       LET flag = 1
                    ELSE
                       SET COLOR "red"
                       PRINT "Invalid Input."
                       SET COLOR "black"
                    END IF
                    PAUSE 0.5
                    CALL refresh
                 LOOP until flaggy = 1
                 LET flaggy = 0
              LOOP until flag = 1
              LET flag = 0


           ELSE IF choice = 4 then
              DO
                 DO
                    CLEAR
                    PRINT "Drinks:"
                    IF drink1 > 0 then
                       PRINT "1. Drink Refreshing Spring Water (Amount:";drink1;")"
                       LET flag = 1
                    END IF
                    IF drink2 > 0 then
                       PRINT "2. Drink Ice Cold Milk (Amount:";drink2;")"
                       LET flag = 1
                    END IF
                    IF drink3 > 0 then
                       PRINT "3. Drink Melon Juice (Amount:";drink3;")"
                       LET flag = 1
                    END IF
                    IF drink4 > 0 then
                       PRINT "4. Drink Sweet Nectar (Amount:";drink4;")"
                       LET flag = 1
                    END IF
                    IF drink5 > 0 then
                       PRINT "5. Drink Moonberry Juice (Amount:";drink5;")"
                       LET flag = 1
                    END IF
                    IF drink6 > 0 then
                       PRINT "6. Drink Crystal Water (Amount:";drink6;")"
                       LET flag = 1
                    END IF
                    IF flag = 0 then
                       PRINT "None"
                    END IF
                    LET flag = 0
                    PRINT "7. To go back to main inventory"
                    INPUT Prompt "What would you like to do?":choice
                    IF choice = 1 then
                       IF drink1 >= 1 then
                          PRINT "You drink some Refreshing Spring Water."
                          SET COLOR "green"
                          PRINT "You gain 11 mana."
                          SET COLOR "black"
                          LET mana = mana + 11
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET drink1 = drink1 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 2 then
                       IF drink2 >= 1 then
                          PRINT "You drink some Ice Cold Milk."
                          SET COLOR "green"
                          PRINT "You gain 22 mana."
                          SET COLOR "black"
                          LET mana = mana + 22
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET drink2 = drink2 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 3 then
                       IF drink3 >= 1 then
                          PRINT "You drink some Melon Juice."
                          SET COLOR "green"
                          PRINT "You gain 35 mana."
                          SET COLOR "black"
                          LET mana = mana + 35
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET drink3 = drink3 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 4 then
                       IF drink4 >= 1 then
                          PRINT "You drink some Sweet Nectar."
                          SET COLOR "green"
                          PRINT "You gain 50 mana."
                          SET COLOR "black"
                          LET mana = mana + 50
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET drink4 = drink4 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 5 then
                       IF drink5 >= 1 then
                          PRINT "You drink some Moonberry Juice."
                          SET COLOR "green"
                          PRINT "You gain 67 mana."
                          SET COLOR "black"
                          LET mana = mana + 67
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET drink5 = drink5 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 6 then
                       IF drink6 >= 1 then
                          PRINT "You drink some Crystal Water."
                          SET COLOR "green"
                          PRINT "You gain 86 mana."
                          SET COLOR "black"
                          LET mana = mana + 86
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET drink6 = drink6 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 7 then
                       LET flaggy = 1
                       LET flag = 1
                    ELSE
                       SET COLOR "red"
                       PRINT "Invalid Input."
                       SET COLOR "black"
                    END IF
                    PAUSE 0.5
                    CALL refresh
                 LOOP until flaggy = 1
                 LET flaggy = 0
              LOOP until flag = 1
              LET flag = 0
           ELSE IF choice = 5 then
              DO
                 DO
                    CLEAR
                    PRINT "Potions:"
                    IF potion1 > 0 then
                       PRINT "1. Drink Minor Healing Potion (Amount:";potion1;")"
                       LET flag = 1
                    END IF
                    IF potion2 > 0 then
                       PRINT "2. Drink Lesser Healing Potion (Amount:";potion2;")"
                       LET flag = 1
                    END IF
                    IF potion3 > 0 then
                       PRINT "3. Drink Healing Potion (Amount:";potion3;")"
                       LET flag = 1
                    END IF
                    IF potion4 > 0 then
                       PRINT "4. Drink Greater Healing Potion (Amount:";potion4;")"
                       LET flag = 1
                    END IF
                    IF potion5 > 0 then
                       PRINT "5. Drink Superior Healing Potion (Amount:";potion5;")"
                       LET flag = 1
                    END IF
                    IF potion6 > 0 then
                       PRINT "6. Drink Major Healing Potion (Amount:";potion6;")"
                       LET flag = 1
                    END IF
                    IF potion7 > 0 then
                       PRINT "7. Drink Minor Mana Potion (Amount:";potion7;")"
                       LET flag = 1
                    END IF
                    IF potion8 > 0 then
                       PRINT "8. Drink Lesser Mana Potion (Amount:";potion8;")"
                       LET flag = 1
                    END IF
                    IF potion9 > 0 then
                       PRINT "9. Drink Mana Potion (Amount:";potion9;")"
                       LET flag = 1
                    END IF
                    IF potion10 > 0 then
                       PRINT "10. Drink Greater Mana Potion (Amount:";potion10;")"
                       LET flag = 1
                    END IF
                    IF potion11 > 0 then
                       PRINT "11. Drink Superior Mana Potion (Amount:";potion11;")"
                       LET flag = 1
                    END IF
                    IF potion12 > 0 then
                       PRINT "12. Drink Major Mana Potion (Amount:";potion12;")"
                       LET flag = 1
                    END IF
                    IF flag = 0 then
                       PRINT "None"
                    END IF
                    LET flag = 0
                    PRINT "13. To go back to main inventory"
                    INPUT Prompt "What would you like to do?":choice
                    IF choice = 1 then
                       IF potion1 >= 1 then
                          PRINT "You drink a Minor Healing Potion."
                          SET COLOR "green"
                          PRINT "You gain 6 health."
                          SET COLOR "black"
                          LET hp = hp + 6
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET potion1 = potion1 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 2 then
                       IF potion2 >= 1 then
                          PRINT "You drink a Lesser Healing Potion."
                          SET COLOR "green"
                          PRINT "You gain 13 health."
                          SET COLOR "black"
                          LET hp = hp + 13
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET potion2 = potion2 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 3 then
                       IF potion3 >= 1 then
                          PRINT "You drink a Healing Potion."
                          SET COLOR "green"
                          PRINT "You gain 21 health."
                          SET COLOR "black"
                          LET hp = hp + 21
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET potion3 = potion3 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 4 then
                       IF potion4 >= 1 then
                          PRINT "You drink a Greater Healing Potion."
                          SET COLOR "green"
                          PRINT "You gain 29 health."
                          SET COLOR "black"
                          LET hp = hp + 29
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET potion4 = potion4 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 5 then
                       IF potion5 >= 1 then
                          PRINT "You drink a Superior Healing Potion."
                          SET COLOR "green"
                          PRINT "You gain 38 health."
                          SET COLOR "black"
                          LET hp = hp + 38
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET potion5 = potion5 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 6 then
                       IF potion6 >= 1 then
                          PRINT "You drink a Major Health Potion."
                          SET COLOR "green"
                          PRINT "You gain 48 health."
                          SET COLOR "black"
                          LET hp = hp + 48
                          IF hp > maxhp then
                             LET hp = maxhp
                          END IF
                          LET potion6 = potion6 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF

                    ELSE IF choice = 7 then
                       IF potion7 >= 1 then
                          PRINT "You drink a Minor Mana Potion."
                          SET COLOR "green"
                          PRINT "You gain 9 mana."
                          SET COLOR "black"
                          LET mana = mana + 9
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET potion7 = potion7 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 8 then
                       IF potion8 >= 1 then
                          PRINT "You drink a Lesser Mana Potion."
                          SET COLOR "green"
                          PRINT "You gain 19 mana."
                          SET COLOR "black"
                          LET mana = mana + 19
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET potion8 = potion8 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 9 then
                       IF potion9 >= 1 then
                          PRINT "You drink a Mana Potion."
                          SET COLOR "green"
                          PRINT "You gain 30 mana."
                          SET COLOR "black"
                          LET mana = mana + 30
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET potion9 = potion9 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 10 then
                       IF potion10 >= 1 then
                          PRINT "You drink a Greater Mana Potion."
                          SET COLOR "green"
                          PRINT "You gain 43 mana."
                          SET COLOR "black"
                          LET mana = mana + 43
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET potion10 = potion10 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 11 then
                       IF potion11 >= 1 then
                          PRINT "You drink a Superior Mana Potion."
                          SET COLOR "green"
                          PRINT "You gain 58 mana."
                          SET COLOR "black"
                          LET mana = mana + 58
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET potion11 = potion11 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 12 then
                       IF potion12 >= 1 then
                          PRINT "You drink a Major Mana Potion."
                          SET COLOR "green"
                          PRINT "You gain 75 mana."
                          SET COLOR "black"
                          LET mana = mana + 75
                          IF mana > maxmana then
                             LET mana = maxmana
                          END IF
                          LET potion12 = potion12 - 1
                          LET flaggy = 1
                       ELSE
                          SET COLOR "red"
                          PRINT "Invalid Input"
                          SET COLOR "black"
                       END IF
                    ELSE IF choice = 13 then
                       LET flaggy = 1
                       LET flag = 1
                    ELSE
                       SET COLOR "red"
                       PRINT "Invalid Input."
                       SET COLOR "black"
                    END IF
                    PAUSE 0.5
                    CALL refresh
                 LOOP until flaggy = 1
                 LET flaggy = 0
              LOOP until flag = 1
              LET flag = 0
           ELSE IF choice = 6 then
              LET superflag = 1
           ELSE
              SET COLOR "red"
              PRINT "Invalid Input."
              SET COLOR "black"
           END IF
        LOOP until superflag = 1
        LET superflag = 0
    END SUB
    SUB castspell
        WINDOW#2
        DO
           DO
              CLEAR
              PRINT "Out-of-Combat Spells:"
              IF spells1$ <> "-" then
                 PRINT spells1$
              END IF
              IF spells2$ <> "-" then
                 PRINT spells2$
              END IF
              IF spells4$ <> "-" then
                 PRINT spells4$
              END IF
              IF spells6$ <> "-" then
                 PRINT spells6$
              END IF
              PRINT "7. To stop casting spells"
              INPUT Prompt "What spell would you like to cast?":choice
              IF choice = 1 and spells1$ <> "-" then
                 IF mana - 15 >= 0 then
                    LET mana = mana - 15
                    LET DAed = 10
                    SET COLOR "green"
                    PRINT "You cast Devotion Aura on yourself!"
                    SET COLOR "black"
                    LET flaggy = 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough mana to cast that spell!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 2 and spells2$ <> "-" then
                 IF mana - (level * 10) >= 0 then
                    SET COLOR "green"
                    PRINT "You cast Holy Light on yourself!"
                    SET COLOR "black"
                    LET mana = mana - (level*10)
                    LET hp = hp + (level*10)
                    IF hp > maxhp then
                       LET hp = maxhp
                    END IF
                    LET flaggy = 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough mana to cast that spell!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 4 and spells4$ <> "-" then
                 IF mana - (level*7) >= 0 then
                    SET COLOR "green"
                    PRINT "You cast Flash of Light on yourself!"
                    SET COLOR "black"
                    LET mana = mana - (level*7)
                    LET hp = hp + (level*6)
                    IF hp > maxhp then
                       LET hp = maxhp
                    END IF
                    LET flaggy = 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough mana to cast that spell!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 6 and spells6$ <> "-" then
                 IF mana - 20 >= 0 then
                    SET COLOR "green"
                    PRINT "You cast Retribution Aura on yourself!"
                    SET COLOR "black"
                    LET mana = mana - 20
                    LET RAed = 10
                    LET flaggy = 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough mana to cast that spell!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 7 then
                 LET flaggy = 1
                 LET flag = 1
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
              PAUSE 0.5
              CALL refresh
           LOOP until flaggy = 1
           LET flaggy = 0
        LOOP until flag = 1
        LET flag = 0
    END SUB

    SUB WeaponsShieldsStore
        WINDOW#2
        DO
           DO
              CLEAR
              PRINT "Welcome to the Weapons/Shields store!"
              PRINT "1. Short Sword (3 damage) 50g"
              PRINT "2. Long Sword (7 damage) 100g"
              PRINT "3. Great Sword (15 damage) 200g"
              PRINT "4. Buckler (1 armor) 15g"
              PRINT "5. Small Shield (3 armor) 50g"
              PRINT "6. Large Shield (6 armor) 100g"
              PRINT "7. Tower Shield (12 armor) 200g"
              PRINT "8. To leave the store"
              INPUT prompt "What would you like to buy?":choice
              IF choice = 1 then
                 IF gold >= 50 then
                    PRINT "You buy a Short Sword for 50g!"
                    LET gold = gold - 50
                    LET sword2 = sword2 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 2 then
                 IF gold >= 100 then
                    PRINT "You buy a Long Sword for 100g!"
                    LET gold = gold - 100
                    LET sword3 = sword3 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 3 then
                 IF gold >= 200 then
                    PRINT "You buy a Great Sword for 200g!"
                    LET gold = gold - 200
                    LET sword4 = sword4 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 4 then
                 IF gold >= 15 then
                    PRINT "You buy a Buckler for 15g!"
                    LET gold = gold - 15
                    LET shield1 = shield1 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 5 then
                 IF gold >= 50 then
                    PRINT "You buy a Small Shield for 50g!"
                    LET gold = gold - 50
                    LET shield2 = shield2 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 6 then
                 IF gold >= 100 then
                    PRINT "You buy a Large Shield for 100g!"
                    LET gold = gold - 100
                    LET shield3 = shield3 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 7 then
                 IF gold >= 200 then
                    PRINT "You buy a Tower Shield for 200g!"
                    LET gold = gold - 200
                    LET shield4 = shield4 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 8 then
                 LET flaggy = 1
                 LET flag = 1
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
              PAUSE 0.5
              CALL refresh
           LOOP until flaggy = 1
           LET flaggy = 0
        LOOP until flag = 1
        LET flag = 0

    END SUB


    SUB FoodDrinksStore
        WINDOW#2
        DO
           DO
              CLEAR
              PRINT "Welcome to the Food/Drinks store!"
              PRINT "1. Tough Jerkey (8 health) 5g"
              PRINT "2. Haunch of Meat (16 health) 10g"
              PRINT "3. Mutton Chop (25 health) 15g"
              PRINT "4. Wild Hog Shank (35 health) 20g"
              PRINT "5. Cured Ham Steak (46 health) 25g"
              PRINT "6. Roasted Quail (58 health) 30g"
              PRINT "7. Refreshing Spring Water (11 mana) 5g"
              PRINT "8. Ice Cold Milk (22 mana) 10g"
              PRINT "9. Melon Juice (35 mana) 15g"
              PRINT "10. Sweet Nectar (50 mana) 20g"
              PRINT "11. Moonberry Juice (67 mana) 25g"
              PRINT "12. Crystal Water (86 mana) 30g"
              PRINT "13. To leave the store"
              INPUT prompt "What would you like to buy?":choice
              IF choice = 1 then
                 IF gold >= 5 then
                    PRINT "You buy Tough Jerkey for 5g!"
                    LET gold = gold - 5
                    LET food1 = food1 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 2 then
                 IF gold >= 10 then
                    PRINT "You buy Haunch of Meat for 10g!"
                    LET gold = gold - 10
                    LET food2 = food2 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 3 then
                 IF gold >= 15 then
                    PRINT "You buy Mutton Chop for 15g!"
                    LET gold = gold - 15
                    LET food3 = food3 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 4 then
                 IF gold >= 20 then
                    PRINT "You buy Wild Hog Shank for 20g!"
                    LET gold = gold - 20
                    LET food4 = food4 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 5 then
                 IF gold >= 25 then
                    PRINT "You buy Cured Ham Steak for 25g!"
                    LET gold = gold - 25
                    LET food5 = food5 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 6 then
                 IF gold >= 30 then
                    PRINT "You buy Roasted Quail for 30g!"
                    LET gold = gold - 30
                    LET food6 = food6 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 7 then
                 IF gold >= 5 then
                    PRINT "You buy Refreshing Spring Water for 5g!"
                    LET gold = gold - 5
                    LET drink1 = drink1 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 8 then
                 IF gold >= 10 then
                    PRINT "You buy Ice Cold Milk for 10g!"
                    LET gold = gold - 10
                    LET drink2 = drink2 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 9 then
                 IF gold >= 15 then
                    PRINT "You buy Melon Juice for 15g!"
                    LET gold = gold - 15
                    LET drink3 = drink3 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 10 then
                 IF gold >= 20 then
                    PRINT "You buy Sweet Nectar for 20g!"
                    LET gold = gold - 20
                    LET drink4 = drink4 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 11 then
                 IF gold >= 25 then
                    PRINT "You buy Moonberry Juice for 25g!"
                    LET gold = gold - 25
                    LET drink5 = drink5 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 12 then
                 IF gold >= 30 then
                    PRINT "You buy Crystal Water for 30g!"
                    LET gold = gold - 30
                    LET drink6 = drink6 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 13 then
                 LET flaggy = 1
                 LET flag = 1
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
              PAUSE 0.5
              CALL refresh
           LOOP until flaggy = 1
           LET flaggy = 0
        LOOP until flag = 1
        LET flag = 0

    END SUB
    SUB PotionStore

        !          PRINT "7. Spirit Potion (+5 Stat) 50g"
        !          PRINT "8. Stamina Potion (+5 Stat) 50g"
        !          PRINT "9. Strength Potion (+5 Stat) 50g"
        !          PRINT "10. Intellect Potion (+5 Stat) 50g"  
        WINDOW#2
        DO
           DO
              CLEAR
              PRINT "Welcome to the Potion store!"
              PRINT "1. Minor Health Potion (6 health) 7g"
              PRINT "2. Lesser Health Potion (13 health) 14g"
              PRINT "3. Normal Health Potion (21 health) 21g"
              PRINT "4. Greater Health Potion (29 health) 28g"
              PRINT "5. Superior Health Potion (38 health) 35g"
              PRINT "6. Major Health Potion (48 health) 42g"
              PRINT "7. Minor Mana Potion (9 mana) 7g"
              PRINT "8. Lesser Mana Potion (19 mana) 14g"
              PRINT "9. Normal Mana Potion (30 mana) 21g"
              PRINT "10. Greater Mana Potion (43 mana) 28g"
              PRINT "11. Superior Mana Potion (58 mana) 35g"
              PRINT "12. Major Mana Potion (75 mana) 42g"
              PRINT "13. To leave the store"
              INPUT prompt "What would you like to buy?":choice
              IF choice = 1 then
                 IF gold >= 7 then
                    PRINT "You buy a Minor Health Potion for 7g!"
                    LET gold = gold - 7
                    LET Potion1 = Potion1 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 2 then
                 IF gold >= 14 then
                    PRINT "You buy a Lesser Health Potion for 14g!"
                    LET gold = gold - 14
                    LET Potion2 = Potion2 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 3 then
                 IF gold >= 21 then
                    PRINT "You buy a Normal Health Potion for 21g!"
                    LET gold = gold - 21
                    LET Potion3 = Potion3 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 4 then
                 IF gold >= 28 then
                    PRINT "You buy a Greater Health Potion for 28g!"
                    LET gold = gold - 28
                    LET Potion4 = Potion4 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 5 then
                 IF gold >= 35 then
                    PRINT "You buy a Superior Health Potion for 35g!"
                    LET gold = gold - 35
                    LET Potion5 = Potion5 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 6 then
                 IF gold >= 42 then
                    PRINT "You buy a Major Health Potion for 42g!"
                    LET gold = gold - 42
                    LET Potion6 = Potion6 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 7 then
                 IF gold >= 7 then
                    PRINT "You buy a Minor Mana Potion for 7g!"
                    LET gold = gold - 7
                    LET Potion7 = Potion7 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 8 then
                 IF gold >= 14 then
                    PRINT "You buy a Lesser Mana Potion for 14g!"
                    LET gold = gold - 14
                    LET Potion8 = Potion8 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 9 then
                 IF gold >= 21 then
                    PRINT "You buy a Normal Mana Potion for 21g!"
                    LET gold = gold - 21
                    LET Potion9 = Potion9 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 10 then
                 IF gold >= 28 then
                    PRINT "You buy a Greater Mana Potion for 28g!"
                    LET gold = gold - 28
                    LET Potion10 = Potion10 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 11 then
                 IF gold >= 35 then
                    PRINT "You buy a Superior Mana Potion for 35g!"
                    LET gold = gold - 35
                    LET Potion11 = Potion11 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 12 then
                 IF gold >= 42 then
                    PRINT "You buy a Major Mana Potion for 42g!"
                    LET gold = gold - 42
                    LET Potion12 = Potion12 + 1
                 ELSE
                    SET COLOR "red"
                    PRINT "You don't have enough gold to buy that!"
                    SET COLOR "black"
                 END IF
              ELSE IF choice = 13 then
                 LET flaggy = 1
                 LET flag = 1
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
              PAUSE 0.5
              CALL refresh
           LOOP until flaggy = 1
           LET flaggy = 0
        LOOP until flag = 1
        LET flag = 0

    END SUB
    SUB Knight
        CLEAR
        PRINT "You go to the Knight's House."
        PRINT "Knight: Hello ";name$;"!"
        IF level >= 2 and knightflag = 2 then
           PRINT "Knight: I see you have reached level 2!"
           PRINT "You are now powerful enough to adventure in the Savannah Plains!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Savannah Plains!"
           SET COLOR "black"
           LET Savannah = 1
           PRINT "While adventuring in the Savannah Plains, be sure to watch out for Rampaging Elephants! These creatures are a lot stronger than you and you will not be able to slay them  !"
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "I will now also teach you the Hammer of Justice spell!"
           SET COLOR "blue"
           PRINT "The Knight teaches you Hammer of Justice!"
           SET COLOR "black"
           LET spells3$ = "3. Hammer of Justice"
           CALL refresh
           PRINT "Hammer of Justice is a spell that stuns your enemy for 2 turns!"
           PRINT "It costs 10 mana to cast, but it has a 7 turn cooldown!"
           PRINT "This means that you can only cast it once every 7 turns. The turn that you cast it on counts as a turn."
           PRINT "Hammer of Justice has many uses. Because it stuns the enemy for 2 turns, you can gain and extra turn over your enemy."
           PRINT "Also, it can be used to interrupt your enemy when they are casting a spell. Stunning an enemy interrupts spell casting"
           PRINT "Lastly, Hammer of Justice can be used to run away from an enemy! Casting it before attempting to run gives you two chances to run before they attack you again   !"
           PRINT "Good luck ";name$;"! Remember to come back to me when you grow a level again     !"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 3
        ELSE IF level >= 3 and knightflag = 3 then
           PRINT "Knight: I see you have reached level 3!"
           PRINT "You are now powerful enough to adventure in the Fanged Forest!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Fanged Forest!"
           SET COLOR "black"
           LET Forest = 1
           PRINT "Be careful now. The creatures you encounter will now start to have special abilities and spells of their own..."
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "I will now also teach you the Flash of Light spell!"
           SET COLOR "blue"
           PRINT "The Knight teaches you Flash of Light!"
           SET COLOR "black"
           LET spells4$ = "4. Flash of Light"
           PRINT "Flash of Light is a spell similar to your Holy Light spell."
           PRINT "Flash of Light costs less mana and unlike Holy Light, it has no casting time."
           PRINT "Although it costs less mana and casts faster than Holy Light, it heals less."
           PRINT "Also, Flash of Light heals less hp per mana used, so Holy Light is more mana efficient."
           PRINT "There are times to use both spells!"
           PRINT "Good luck ";name$;"! Remember to come back to me when you grow a level again     !"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 4
        ELSE IF level >= 4 and knightflag = 4 then
           PRINT "Knight: I see you have reached level 4!"
           PRINT "You are now powerful enough to adventure in the Tainted Lake!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Tainted Lake!"
           SET COLOR "black"
           LET Lake = 1
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "I will now also teach you the Holy Shock spell!"
           SET COLOR "blue"
           PRINT "The Knight teaches you Holy Shock!"
           SET COLOR "black"
           LET spells5$ = "5. Holy Shock"
           PRINT "Holy Shock is a spell that deals damage to your enemy and stuns them for 1 turn!"
           PRINT "Holy Shock is much better for interrupting spells than the Hammer of Justice spell because Holy Shock has a shorter cooldown, so it can be used more often."
           PRINT "Good luck ";name$;"! Remember to come back to me when you grow a level again     !"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 5
        ELSE IF level >= 5 and knightflag = 5 then
           PRINT "Knight: I see you have reached level 5!"
           PRINT "You are now powerful enough to adventure in the StrangleVine Jungle!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the StrangleVine Jungle!"
           SET COLOR "black"
           LET Jungle = 1
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "I will now also teach you the Retribution Aura spell!"
           SET COLOR "blue"
           PRINT "The Knight teaches you Retribution Aura!"
           SET COLOR "black"
           LET spells6$ = "6. Retribution Aura"
           PRINT "Retribution Aura works like your Devotion Aura does."
           PRINT "However, instead of giving you armor, Retribution Aura deals damage to any enemy that strikes you!"
           PRINT "Like Devotion Aura, this spell should pretty much be kept on at all times!"
           PRINT "Good luck ";name$;"! Remember to come back to me when you grow a level again     !"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 6
        ELSE IF level >= 6 and knightflag = 6 then
           PRINT "Knight: I see you have reached level 6!"
           PRINT "You are now powerful enough to adventure in the Frigid Mountains!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Frigid Mountains!"
           SET COLOR "black"
           LET Frigid = 1
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "I will now also teach you the Holy Shield spell!"
           SET COLOR "blue"
           PRINT "The Knight teaches you Holy Shield!"
           SET COLOR "black"
           LET spells7$ = "7. Holy Shield"
           PRINT "Holy Shield is a spell that you can cast on yourself when you are in trouble."
           PRINT "It creates a Holy Shield around yourself that blocks all attacks from your enemy for 5 turns!"
           PRINT "However, while in the Holy Shield, you may not cast offensive spells, and your attacks are much weaker!"
           PRINT "This spell has a very long cooldown though, so only use it in an emergency."
           PRINT "Holy Shield is very useful because it allows you to heal and get your mana back by drinking mana potions before having to get attacked again!"
           PRINT "Also, it can be used before attempting to flee from enemies so that you don't take damage if you fail to get away!"
           PRINT "Good luck ";name$;"! Remember to come back to me when you grow a level again     !"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 7
        ELSE IF level >= 7 and knightflag = 7 then
           PRINT "Knight: I see you have reached level 7!"
           PRINT "You are now powerful enough to adventure in the Volcanic Mountains!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Volcanic Mountains!"
           SET COLOR "black"
           LET Volcanic = 1
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "I will now also teach you the Burst of Light spell!"
           SET COLOR "blue"
           PRINT "The Knight teaches you Burst of Light!"
           SET COLOR "black"
           LET spells8$ = "8. Burst of Light"
           PRINT "Burst of Light is an instant cast healing spell like Flash of Light!"
           PRINT "Unlike Flash of Light, it drains all of your mana to cast!"
           PRINT "Flash of Light heals you back to full health, and increases your armor for a short duration!"
           PRINT "However, it also has a very long cooldown, just like Holy Shield."
           PRINT "So, like Holy Shield, only use Burst of Light in an emergency!"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 8
        ELSE IF level >= 8 and knightflag = 8 then
           PRINT "Knight: I see you have reached level 8!"
           PRINT "You are now powerful enough to adventure in the Cathedral of the Dark Shadows!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Cathedral of the Dark Shadows!"
           SET COLOR "black"
           LET Cathedral = 1
           PRINT "Once a Holy Sanctuary, the Cathedral of the Dark Shadows is now overrun by Dark creatures..."
           PRINT "Be very careful in this particular place."
           PRINT "Press any key to continue."
           GET KEY keyy
           PRINT "I am afraid there are no more spells for me to teach you ";name$;"."
           PRINT "Your mastery of paladin spells rivals even mine now..."
           PRINT "Good luck ";name$;"! Remember to come back to me when you grow a level again     !"
           PRINT "Press any key to continue."
           GET KEY keyy
           LET knightflag = 9
        ELSE IF level >= 9 and knightflag = 9 then
           PRINT "Knight: So the time has finally come. The Student"
           PRINT "has surpassed the teacher. There is nothing more that"
           PRINT "I can teach you. I will now send you on a quest that"
           PRINT "I would have never dreamed of being able to accomplish"
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "I send you off to slay the Infernal Dragon! It is the"
           PRINT "source of all evil in this world. It is what has"
           PRINT "corrupted all of the creatures that you have ever fought"
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "Whether you actually wish to seek out the Infernal Dragon"
           PRINT "or not, you cannot do so until you provoke him to come"
           PRINT "back to his cave. It now flies all over the world, wreaking"
           PRINT "havoc and causing destruction wherever it goes. To get it"
           PRINT "to come back to its cave, you must make it wary by slaying"
           PRINT "two other powerful creatures, the ThunderHawk, and the"
           PRINT "ShadowDrake. Once you do so, the Infernal Dragon will"
           PRINT "come back to defend its eggs..."
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "The ThunderHawk is a massive bird that can be found on top"
           PRINT "of ThunderMountain."
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to Thunder Mountain!"
           SET COLOR "black"
           LET ThunderMountain = 1
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "The ShadowDrake resembles a giant,dark, serpent with wings"
           PRINT "and can be found circling the Peak of Doom."
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Peak of Doom!"
           SET COLOR "black"
           LET PeakofDoom = 1
           PRINT "Press any key to continue."
           GET KEY keyy
           CLEAR
           PRINT "After slaying these two creatures, make sure that you"
           PRINT "have full health and mana and that you are well stocked"
           PRINT "up with potions. Then, head to the cave of the Infernal"
           PRINT "Dragon!"
           SET COLOR "blue"
           PRINT "The Knight teaches you how to get to the Dragon Cave!"
           SET COLOR "black"
           LET DragonCave = 1
           PRINT "Good luck ";name$;"!"
           LET knightflag = 10
           PRINT "Press any key to continue."
           GET KEY keyy
        ELSE IF knightflag = 10 then
           IF ThunderSlayed = 1 and ShadowSlayed = 1 then
              PRINT "You have slain both the ThunderHawk and the ShadowDrake!"
              PRINT "Battle the Infernal Dragon when you feel you are ready."
           ELSE IF ThunderSlayed = 1 then
              PRINT "You have slain the ThunderHawk!"
              PRINT "Now, just slay the ShadowDrake and the Infernal Dragon"
              PRINT "will come back."
           ELSE IF ShadowSlayed = 1 then
              PRINT "You have slain the ShadowDrake!"
              PRINT "Now, just slay the ThunderHawk and the Infernal Dragon"
              PRINT "will come back."
           END IF
           DO
              INPUT Prompt "Did you come to find out what your spells cost and do?(y/n)":ask$
              LET ask$ = lcase$(ask$)[1:1]
              IF ask$ = "y" then
                 PRINT "Your Devotion Aura currently costs 15 mana and gives you ";level;" extra armor!"
                 PRINT "Your Holy Light currently costs ";(level*10);" mana and heals you for ";(level*10);" health!"
                 IF spells3$ <> "-" then
                    PRINT "Your Hammer of Justice costs 10 mana and stuns your enemy for 2 turns!"
                 END IF
                 IF spells4$ <> "-" then
                    PRINT "Your Flash of Light currently costs ";(level*7);" mana and heals you for ";(level*6);" health!"
                 END IF
                 IF spells5$ <> "-" then
                    PRINT "Your Holy Shock currently costs ";(level*4);" mana, deals ";(level*2);" damage, and stuns your enemy for 1 turn!"
                 END IF
                 IF spells6$ <> "-" then
                    PRINT "Your Retribution Aura currently costs 20 mana and deals ";level;" damage to all enemies that strike you!"
                 END IF
                 IF spells7$ <> "-" then
                    PRINT "Your Holy Shield costs 40 mana and surrounds you with a Holy Shield, not allowing your enemy to attack you and not allowing you to attack it for 5 turns!"
                 END IF
                 IF spells8$ <> "-" then
                    PRINT "Your Burst of Light Spell costs all of your remaining mana, and heals you to full life!"
                 END IF
                 LET flag = 1
              ELSE IF ask$ = "n" then
                 LET flag = 1
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           LOOP until flag = 1
           LET flag = 0
           PRINT "Good luck ";name$;"..."
           PRINT "Press any key to continue."
           GET KEY keyy
        ELSE
           PRINT "Having fun adventuring?"
           DO
              INPUT Prompt "Did you come to find out what your spells cost and do?(y/n)":ask$
              LET ask$ = lcase$(ask$)[1:1]
              IF ask$ = "y" then
                 PRINT "Your Devotion Aura currently costs 15 mana and gives you ";level;" extra armor!"
                 PRINT "Your Holy Light currently costs ";(level*10);" mana and heals you for ";(level*10);" health!"
                 IF spells3$ <> "-" then
                    PRINT "Your Hammer of Justice costs 10 mana and stuns your enemy for 2 turns!"
                 END IF
                 IF spells4$ <> "-" then
                    PRINT "Your Flash of Light currently costs ";(level*7);" mana and heals you for ";(level*6);" health!"
                 END IF
                 IF spells5$ <> "-" then
                    PRINT "Your Holy Shock currently costs ";(level*4);" mana, deals ";(level*2);" damage, and stuns your enemy for 1 turn!"
                 END IF
                 IF spells6$ <> "-" then
                    PRINT "Your Retribution Aura currently costs 20 mana and deals ";level;" damage to all enemies that strike you!"
                 END IF
                 IF spells7$ <> "-" then
                    PRINT "Your Holy Shield costs 40 mana and surrounds you with a Holy Shield, not allowing your enemy to attack you and not allowing you to cast offensive spells for 5 turns! For the duration, your attacks are much weaker     !"
                 END IF
                 IF spells8$ <> "-" then
                    PRINT "Your Burst of Light Spell costs all of your remaining mana, and heals you to full life!"
                 END IF
                 LET flag = 1
              ELSE IF ask$ = "n" then
                 LET flag = 1
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
              END IF
           LOOP until flag = 1
           LET flag = 0
           PRINT "Ok. Good luck adventuring ";name$;"!"
           PRINT "Remember to come back to me when you grow a level!"
           PRINT "Press any key to continue."
           GET KEY keyy
        END IF

    END SUB

    SUB GreatPlains
        LET roll = randomnum(1,100,0)
        IF roll >= 80 and roll =< 100 then
           PRINT "You are attacked by a Rabid Wolf!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Rabid Wolf------
           LET Enemyname$= "Rabid Wolf"
           LET enemylevel = 1
           LET enemymaxHP = 20
           LET enemyHP = enemymaxHP
           LET enemyarmor = 5
           LET enemyhigh = 5
           LET enemylow = 4
           LET enemyexp = 85
           LET goldlow = 5
           LET goldhigh = 10
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 40 and roll =< 79 then
           PRINT "You are attacked by a Plains Wolf!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Plains Wolf---------------
           LET Enemyname$ = "Plains Wolf"
           LET enemylevel = 1
           LET enemymaxHP = 20
           LET enemyHP = enemymaxHP
           LET enemyarmor = 4
           LET enemyhigh = 4
           LET enemylow = 3
           LET enemyexp = 50
           LET goldlow = 3
           LET goldhigh = 7
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !---------------------------
        ELSE IF roll >=19 and roll =< 39 then
           PRINT "You are attacked by a Wolf Pup!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Wolf Pup-------------
           LET Enemyname$ = "Wolf Pup"
           LET enemylevel = 1
           LET enemymaxHP = 15
           LET enemyHP = enemymaxHP
           LET enemyarmor = 3
           LET enemyhigh = 3
           LET enemylow = 1
           LET enemyexp = 25
           LET goldlow = 1
           LET goldhigh = 3
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
        ELSE IF roll >10 and roll =< 18 then
           PRINT "Walking through the Great Plains, you walk by a stream."
           PRINT "You decide to fill up a few bottles with some of the water."
           SET COLOR "blue"
           PRINT "You have gained 3 Refreshing Spring Waters!"
           SET COLOR "black"
           LET drink1 = drink1 + 3
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        ELSE IF roll >=1 and roll =< 9 then
           PRINT "Walking through the Great Plains, you see a Nomad's old tent."
           PRINT "It seems that the nomad is long gone, but he left some supplies behind!"
           PRINT "You add the supplies to your inventory."
           SET COLOR "blue"
           PRINT "You have gained 3 gold!"
           PRINT "You have gained 1 Tough Jerkey!"
           PRINT "You have gained 1 Refreshing Spring Water!"
           SET COLOR "black"
           LET gold = gold + 3
           LET food1 = food1 + 1
           LET drink1 = drink1 + 1
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
    END SUB

    SUB SavannahPlains
        LET roll = randomnum(1,100,0)
        IF roll >= 96 and roll =< 100 then
           PRINT "You are attacked by a Rampaging Elephant!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Rampaging Elephant------
           LET Enemyname$= "Rampaging Elephant"
           LET enemylevel = 3
           LET enemymaxHP = 75
           LET enemyHP = enemymaxHP
           LET enemyarmor = 20
           LET enemyhigh = 20
           LET enemylow = 10
           LET enemyexp = 200
           LET goldlow = 15
           LET goldhigh = 35
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 45 and roll =< 95 then
           PRINT "You are attacked by a Savannah Lion!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Savannah Lion-------------------
           LET Enemyname$ = "Savannah Lion"
           LET enemylevel = 2
           LET enemymaxHP = 30
           LET enemyHP = enemymaxHP
           LET enemyarmor = 7
           LET enemyhigh = 10
           LET enemylow = 8
           LET enemyexp = 100
           LET goldlow = 8
           LET goldhigh = 15
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !---------------------------
        ELSE IF roll >=12 and roll =< 44 then
           PRINT "You are attacked by a Hungry Vulture!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !---------Hungry Vulture-------------
           LET Enemyname$ = "Hungry Vulture"
           LET enemylevel = 2
           LET enemymaxHP = 25
           LET enemyHP = enemymaxHP
           LET enemyarmor = 5
           LET enemyhigh = 7
           LET enemylow = 5
           LET enemyexp = 50
           LET goldlow = 3
           LET goldhigh = 7
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
        ELSE IF roll >=1 and roll =< 11 then
           PRINT "Walking through the Savannah Plains, you chance upon a hyena eating the carcass of an animal."
           PRINT "You chase the hyena away and inspect the carcass."
           PRINT "Deciding that the meat is still fresh, you cook it and take it with you!"
           SET COLOR "blue"
           PRINT "You have gained 1 Haunch of Meat!"
           SET COLOR "black"
           LET food2 = food2 + 1
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
    END SUB

    SUB FangedForest
        LET roll = randomnum(1,100,0)
        IF roll >= 12 and roll =< 55 then
           PRINT "You are attacked by a VenomFang Spider!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Venom Fanged Spider------
           LET Enemyname$= "VenomFang Spider"
           LET enemylevel = 3
           LET enemymaxHP = 40
           LET enemyHP = enemymaxHP
           LET enemyarmor = 11
           LET enemyhigh = 12
           LET enemylow = 10
           LET enemyexp = 150
           LET goldlow = 5
           LET goldhigh = 15
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF weakpoisoned = 0 then
                       IF HShielded = 0 then
                          SET COLOR "red"
                          PRINT "VenomFang Spider poisons you with its fangs!"
                          PRINT "You take 3 damage and are poisoned for 5 turns!"
                          SET COLOR "black"
                          LET weakpoisoned = 5
                          LET hp = hp - 3
                          PRINT
                          PRINT "Press any key to continue."
                          GET KEY keyy
                          CLEAR
                       ELSE
                          SET COLOR "blue"
                          PRINT "VenomFang Spider tries to bite you with its fangs, but it can't get through your shield!"
                          SET COLOR "black"
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       END IF
                    ELSE
                       CALL enemyattacking
                    END IF
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 56 and roll =< 80 then
           PRINT "You are attacked by an Angry Tree!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Angry Tree-------------------
           LET Enemyname$ = "Angry Tree"
           LET enemylevel = 3
           LET enemymaxHP = 65
           LET enemyHP = enemymaxHP
           LET enemyarmor = 15
           LET enemyhigh = 11
           LET enemylow = 8
           LET enemyexp = 150
           LET goldlow = 5
           LET goldhigh = 15
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !---------------------------
        ELSE IF roll >=81 and roll =< 100 then
           PRINT "You are attacked by an Elf Archer!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Elf Archer-------------
           LET Enemyname$ = "Elf Archer"
           LET enemylevel = 3
           LET enemymaxHP = 40
           LET enemyHP = enemymaxHP
           LET enemyarmor = 8
           LET enemyhigh = 17
           LET enemylow = 10
           LET enemyexp = 150
           LET goldlow = 10
           LET goldhigh = 20
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
        ELSE IF roll >=1 and roll =< 11 then
           PRINT "Walking through the Fanged Forest, you accidently step on a large melon."
           PRINT "You fill up a bottle with the Juice."
           SET COLOR "blue"
           PRINT "You have gained 1 Melon Juice!"
           SET COLOR "black"
           LET drink3 = drink3 + 1
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
        PAUSE 0.5
    END SUB

    SUB TaintedLake
        LET roll = randomnum(1,100,0)
        IF roll >= 10 and roll =< 45 then
           PRINT "You are attacked by a Electric Eel!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Electric Eel------
           LET Enemyname$= "Electric Eel"
           LET enemylevel = 4
           LET enemymaxHP = 55
           LET enemyHP = enemymaxHP
           LET enemyarmor = 14
           LET enemyhigh = 23
           LET enemylow = 19
           LET enemyexp = 200
           LET goldlow = 10
           LET goldhigh = 20
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 46 and roll =< 80 then
           PRINT "You are attacked by a Pirana!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Pirana-------------------
           LET Enemyname$ = "Pirana"
           LET enemylevel = 4
           LET enemymaxHP = 45
           LET enemyHP = enemymaxHP
           LET enemyarmor = 11
           LET enemyhigh = 30
           LET enemylow = 17
           LET enemyexp = 150
           LET goldlow = 10
           LET goldhigh = 20
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !---------------------------
        ELSE IF roll >=81 and roll =< 100 then
           PRINT "You are attacked by a Lochness Monster!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Lochness Monster-------------
           LET Enemyname$ = "Lochness Monster"
           LET enemylevel = 4
           LET enemymaxHP = 75
           LET enemyHP = enemymaxHP
           LET enemyarmor = 15
           LET enemyhigh = 22
           LET enemylow = 20
           LET enemyexp = 200
           LET goldlow = 10
           LET goldhigh = 25
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF enemycasting1 = 1 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF HShielded = 0 then
                       SET COLOR "red"
                       PRINT "The Lochness Monster blasts you with water!"
                       PRINT "You take 27 damage!"
                       SET COLOR "black"
                       LET enemycasting1 = 0
                       LET hp = hp - 27
                    ELSE
                       SET COLOR "blue"
                       PRINT "Lochness Monster blasts you with water but it can't get through your shield!"
                       SET COLOR "black"
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    END IF
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    LET roll = randomnum(1,10,0)
                    IF roll > 3 then
                       CALL enemyattacking
                    ELSE
                       SET COLOR "red"
                       PRINT "The Lochness Monster begins to suck up the water around it!"
                       SET COLOR "black"
                       LET enemycasting1 = 1
                       PRINT "Press any key to continue."
                       GET KEY keyy
                       CLEAR
                    END IF
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
        ELSE IF roll >=1 and roll =< 9 then
           PRINT "Swimming through Tainted lake, you notice a chest of gold near the bottom!"
           PRINT "You quickly swim down and open the chest!"
           SET COLOR "blue"
           PRINT "You have gained 15 gold!"
           SET COLOR "black"
           LET gold = gold + 15
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
        PAUSE 0.5
    END SUB

    SUB StrangleVineJungle
        LET roll = randomnum(1,100,0)
        IF roll >= 81 and roll =< 100 then
           PRINT "You are attacked by a StrangleVine Huntress!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------StrangleVine Huntress------
           LET Enemyname$= "StrangleVine Huntress"
           LET enemylevel = 5
           LET enemymaxHP = 60
           LET enemyHP = enemymaxHP
           LET enemyarmor = 17
           LET enemyhigh = 35
           LET enemylow = 20
           LET enemyexp = 250
           LET goldlow = 10
           LET goldhigh = 25
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 41 and roll =< 80 then
           PRINT "You are attacked by a StrangleVine Python!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------StrangleVine Python-------------------
           LET Enemyname$ = "StrangleVine Python"
           LET enemylevel = 5
           LET enemymaxHP = 65
           LET enemyHP = enemymaxHP
           LET enemyarmor = 22
           LET enemyhigh = 25
           LET enemylow = 20
           LET enemyexp = 250
           LET goldlow = 10
           LET goldhigh = 25
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    LET roll = randomnum(1,10,0)
                    IF roll > 7 then
                       CALL enemyattacking
                    ELSE
                       IF HShielded = 0 then
                          SET COLOR "red"
                          PRINT "The Stranglevine Python constricts you for 2 damage!"
                          PRINT "You cannot breath! You are stunned for 1 turn      !"
                          SET COLOR "black"
                          LET stunned = 1
                          LET hp = hp - 2
                          PRINT "Press any key to continue."
                          GET KEY keyy
                          CLEAR
                       ELSE
                          SET COLOR "blue"
                          PRINT "The StrangleVine Python tries to constrict you, but it can't get through your shield!"
                          SET COLOR "black"
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       END IF
                    END IF
                 END IF
              END IF
              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !---------------------------
        ELSE IF roll >=9 and roll =< 40 then
           !--------Shadow Claw Panther-------------
           LET Enemyname$ = "ShadowClaw Panther"
           LET enemylevel = 5
           LET enemymaxHP = 65
           LET enemyHP = enemymaxHP
           LET enemyarmor = 20
           LET enemyhigh = 28
           LET enemylow = 25
           LET enemyexp = 250
           LET goldlow = 10
           LET goldhigh = 25
           CALL enemyrefresh
           PRINT "You hear a noise..."
           PAUSE 1
           PRINT "ROAR!"
           PAUSE 0.25
           PRINT "You are ambushed by a ShadowClaw Panther!"
           CALL enemyattacking
           PAUSE 0.5
           CLEAR
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
        ELSE IF roll >=1 and roll =< 8 then
           PRINT "Walking through StrangleVine Jungle, you encouter a strange plant!"
           PRINT "Looking closer at it, you notice nectar dripping from it..."
           PRINT "You cautiously touch the plant, and it explodes!"
           PRINT "You decide to fill up a vial with the nectar!"
           SET COLOR "blue"
           PRINT "You have gained 1 Sweet Nectar!"
           SET COLOR "black"
           LET drink4 = drink4 + 1
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
        PAUSE 0.5
    END SUB


    SUB FrigidMountains
        LET roll = randomnum(1,100,0)
        IF roll >= 8 and roll =< 45 then
           PRINT "You are attacked by a Snow Leopard!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Snow Leopard------
           LET Enemyname$= "Snow Leopard"
           LET enemylevel = 6
           LET enemymaxHP = 80
           LET enemyHP = enemymaxHP
           LET enemyarmor = 26
           LET enemyhigh = 32
           LET enemylow = 29
           LET enemyexp = 300
           LET goldlow = 15
           LET goldhigh = 30
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 46 and roll =< 72 then
           PRINT "You are attacked by a Freezing Yeti!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Freezing Yeti-------------------
           LET Enemyname$ = "Freezing Yeti"
           LET enemylevel = 6
           LET enemymaxHP = 95
           LET enemyHP = enemymaxHP
           LET enemyarmor = 26
           LET enemyhigh = 29
           LET enemylow = 25
           LET enemyexp = 300
           LET goldlow = 15
           LET goldhigh = 30
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1
              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    LET roll = randomnum(1,10,0)
                    IF roll > 3 then
                       CALL enemyattacking
                       LET blasted2 = 0
                    ELSE
                       IF blasted2 < 2 then
                          IF HShielded = 0 then
                             SET COLOR "red"
                             PRINT "The Yeti blasts you with its Frost Breath!"
                             PRINT "You take 7 damage and are frozen!"
                             SET COLOR "black"
                             LET frozen = 1
                             LET hp = hp - 7
                             PRINT "Press any key to continue."
                             GET KEY keyy
                             LET blasted2 = blasted2 + 1
                          ELSE
                             SET COLOR "blue"
                             PRINT "The Freezing Yeti tries to blast you with its Frost Breath, but it can't get through your shield!"
                             SET COLOR "black"
                             PRINT "Press any key to continue."
                             GET KEY keyy
                             LET blasted2 = blasted2 + 1
                          END IF
                       ELSE
                          CALL enemyattacking
                          LET blasted2 = 0
                       END IF
                    END IF
                 END IF
              END IF
              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !---------------------------
        ELSE IF roll >=73 and roll =< 100 then
           PRINT "You are attacked by a Ice Mage!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Ice Mage-------------
           LET Enemyname$ = "Ice Mage"
           LET enemylevel = 6
           LET enemymaxHP = 75
           LET enemyHP = enemymaxHP
           LET enemymaxMANA = 100
           LET enemymana = enemymaxMANA
           LET enemyarmor = 19
           LET enemyhigh = 22
           LET enemylow = 20
           LET enemyexp = 300
           LET goldlow = 15
           LET goldhigh = 30
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1
              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF enemycasting1 = 1 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF HShielded = 0 then
                       SET COLOR "red"
                       PRINT "The Ice Mage casts Frost Bolt on you!"
                       PRINT "You take 30 damage!"
                       SET COLOR "black"
                       LET enemycasting1 = 0
                       LET hp = hp - 30
                       LET enemymana = enemymana - 35
                       LET roll = randomnum(1,2,0)
                       IF roll = 2 then
                          LET Frozen = 1
                          SET COLOR "red"
                          PRINT "The Frost Bolt freezes you!"
                          SET COLOR "black"
                       END IF
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       LET enemycasting1 = 0
                       LET enemymana = enemymana - 35
                       SET COLOR "blue"
                       PRINT "The Ice Mage tries to cast Frost Bolt on you, but it can't get through your shield!"
                       SET COLOR "black"
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    END IF
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF enemymana > 30 then
                       SET COLOR "red"
                       PRINT "The Ice Mage begins to cast Frost Bolt!"
                       SET COLOR "black"
                       LET enemycasting1 = 1
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       CALL enemyattacking
                    END IF
                 END IF
              END IF

              !----------------
              LET enemymana = enemymana + 5
              IF enemymana > enemymaxmana then
                 LET enemymana = enemymaxmana
              END IF
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           LET enemymana = 0
           LET enemymaxmana = 0
        ELSE IF roll >=1 and roll =< 7 then
           PRINT "Walking through the freezing snow, you find a pool of sparkling water!"
           PRINT "You walk up to the pool and fill up a vial with the water."
           SET COLOR "blue"
           PRINT "You have gained 1 Crystal Water!"
           SET COLOR "black"
           LET drink6 = drink6 + 1
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
        PAUSE 0.5
    END SUB

    SUB VolcanicMountains
        LET roll = randomnum(1,100,0)
        IF roll >= 68 and roll =< 100 then
           PRINT "You are attacked by a Living Flame!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !--------Living Flame------
           LET Enemyname$= "Living Flame"
           LET enemylevel = 7
           LET enemymaxHP = 95
           LET enemyHP = enemymaxHP
           LET enemyarmor = 25
           LET enemyhigh = 35
           LET enemylow = 29
           LET enemyexp = 350
           LET goldlow = 20
           LET goldhigh = 30
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 34 and roll =< 67 then
           PRINT "You are attacked by a Fire Mage!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Fire Mage-------------------
           LET Enemyname$ = "Fire Mage"
           LET enemylevel = 7
           LET enemymaxHP = 85
           LET enemyHP = enemymaxHP
           LET enemymaxMANA = 100
           LET enemymana = enemymaxMANA
           LET enemyarmor = 21
           LET enemyhigh = 23
           LET enemylow = 21
           LET enemyexp = 350
           LET goldlow = 20
           LET goldhigh = 30
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1
              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF enemycasting1 = 1 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF HShielded = 0 then
                       SET COLOR "red"
                       PRINT "The Fire Mage casts Fireball on you!"
                       PRINT "You take 40 damage!"
                       SET COLOR "black"
                       LET enemycasting1 = 0
                       LET hp = hp - 40
                       LET enemymana = enemymana - 35
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       LET enemycasting1 = 0
                       LET enemymana = enemymana - 35
                       SET COLOR "blue"
                       PRINT "The Fire Mage tries to cast Fireball on you, but it can't get through your shield!"
                       SET COLOR "black"
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    END IF
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF enemymana > 30 then
                       SET COLOR "red"
                       PRINT "The Fire Mage begins to cast Fireball!"
                       SET COLOR "black"
                       LET enemycasting1 = 1
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       CALL enemyattacking
                    END IF
                 END IF
              END IF

              !----------------
              LET enemymana = enemymana + 5
              IF enemymana > enemymaxmana then
                 LET enemymana = enemymaxmana
              END IF
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           LET enemymana = 0
           LET enemymaxmana = 0
           !---------------------------
        ELSE IF roll >=12 and roll =< 33 then
           PRINT "You are attacked by a Dragon Whelp!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !---------Dragon Whelp------------
           LET Enemyname$ = "Dragon Whelp"
           LET enemylevel = 7
           LET enemymaxHP = 85
           LET enemyHP = enemymaxHP
           LET enemyarmor = 22
           LET enemyhigh = 32
           LET enemylow = 29
           LET enemyexp = 350
           LET goldlow = 20
           LET goldhigh = 30
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF enemycasting1 = 1 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF HShielded = 0 then
                       SET COLOR "red"
                       PRINT "The Dragon Whelp blasts you with fire!"
                       PRINT "You take 35 damage!"
                       SET COLOR "black"
                       LET enemycasting1 = 0
                       LET hp = hp - 35
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       SET COLOR "blue"
                       PRINT "The Dragon Whelp tries to blast you with fire, but it can't get through your shield!"
                       SET COLOR "black"
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    END IF
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    LET roll = randomnum(1,3,0)
                    IF roll > 2 then
                       SET COLOR "red"
                       PRINT "The Dragon Whelp begins to powerup!"
                       SET COLOR "black"
                       LET enemycasting1 = 1
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       CALL enemyattacking
                    END IF
                 END IF
              END IF

              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
        ELSE IF roll >=1 and roll =< 11 then
           PRINT "Walking through the burning land, you walk by a smouldering object!"
           PRINT "Walking closer, you see that it is a completely Roasted Quail!"
           PRINT "You stow it in your bag."
           SET COLOR "blue"
           PRINT "You have gained 1 Roasted Quail!"
           SET COLOR "black"
           LET Food6 = Food6 + 1
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
        PAUSE 0.5
    END SUB

    SUB DarkCathedral
        LET roll = randomnum(1,100,0)
        IF roll >= 76 and roll =< 100 then
           !--------ShadowStrike Assassin------
           LET Enemyname$= "ShadowStrike Assassin"
           LET enemylevel = 8
           LET enemymaxHP = 105
           LET enemyHP = enemymaxHP
           LET enemyarmor = 27
           LET enemyhigh = 40
           LET enemylow = 30
           LET enemyexp = 400
           LET goldlow = 20
           LET goldhigh = 35
           CALL enemyrefresh
           PRINT "You hear a noise..."
           PAUSE 1
           PRINT "BAM!"
           PAUSE 0.25
           PRINT "You are ambushed by a ShadowStrike Assassin!"
           CALL enemyattacking
           PAUSE 0.5
           CLEAR
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn--------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    CALL enemyattacking
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           !--------------------------------------------
        ELSE IF roll >= 45 and roll =< 75 then
           PRINT "You are attacked by a Shadow Mage!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !----------Shadow Mage-------------------
           LET Enemyname$ = "Shadow Mage"
           LET enemylevel = 8
           LET enemymaxHP = 95
           LET enemyHP = enemymaxHP
           LET enemymaxMANA = 100
           LET enemymana = enemymaxMANA
           LET enemyarmor = 24
           LET enemyhigh = 26
           LET enemylow = 24
           LET enemyexp = 400
           LET goldlow = 20
           LET goldhigh = 35
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF enemycasting1 > 0 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF HShielded = 0 then
                       SET COLOR "red"
                       PRINT "The Shadow Mage continues to cast Shadow Missiles on you!"
                       PRINT "You take 20 damage!"
                       SET COLOR "black"
                       LET enemycasting1 = enemycasting1 - 1
                       LET hp = hp - 20
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       LET enemycasting1 = enemycasting1 - 1
                       SET COLOR "blue"
                       PRINT "The Shadow Mage casts Shadow Missiles on you, but they can't get through your shield!"
                       SET COLOR "black"
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    END IF
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF enemymana > 45 then
                       IF HShielded = 0 then
                          SET COLOR "red"
                          PRINT "The Shadow Mage begins to cast Shadow Missiles on you!"
                          PRINT "You take 20 damage!"
                          SET COLOR "black"
                          LET hp = hp - 20
                          LET enemycasting1 = 3
                          LET enemymana = enemymana - 45
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       ELSE
                          LET enemycasting1 = 3
                          SET COLOR "blue"
                          PRINT "The Shadow Mage casts Shadow Missiles on you, but they can't get through your shield!"
                          SET COLOR "black"
                          LET enemymana = enemymana - 45
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       END IF
                    ELSE
                       CALL enemyattacking
                    END IF
                 END IF
              END IF
              !----------------
              LET enemymana = enemymana + 7
              IF enemymana > enemymaxmana then
                 LET enemymana = enemymaxmana
              END IF
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           LET enemymana = 0
           LET enemymaxmana = 0
           !---------------------------
        ELSE IF roll >=8 and roll =< 44 then
           PRINT "You are attacked by a DarkFlame Imp!"
           PRINT "Press any key to continue."
           GET KEY keyy
           !---------DarkFlame Imp------------
           LET Enemyname$ = "DarkFlame Imp"
           LET enemylevel = 8
           LET enemymaxHP = 95
           LET enemyHP = enemymaxHP
           LET enemyarmor = 25
           LET enemyhigh = 30
           LET enemylow = 25
           LET enemyexp = 400
           LET goldlow = 20
           LET goldhigh = 35
           LET flametime = maximumattack - level
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE
                    IF enemyhp =< flametime and darkflamed = 0 then
                       SET COLOR "red"
                       PRINT "The DarkFlame Imp becomes enraged!"
                       PRINT "Press any key to continue."
                       GET KEY keyy
                       CLEAR
                       PRINT "It ignites itself, becoming completely consumed by Shadow Flames!"
                       PRINT "Re-energized by the flames, it comes out of the swirling flames with a vengeance!"
                       SET COLOR "black"
                       LET enemyhp = enemymaxhp
                       LET darkflamed = 1
                       LET enemyarmor = 28
                       LET enemyhigh = 35
                       LET enemylow = 30
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       IF enemycasting1 = 1 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                          IF HShielded = 0 then
                             SET COLOR "red"
                             PRINT "The DarkFlame Imp blasts you with Shadow Flames!"
                             IF darkflamed = 1 then
                                PRINT "You take 25 damage and are drained of 20 mana!"
                             ELSE
                                PRINT "You take 20 damage and are drained of 15 mana!"
                             END IF
                             SET COLOR "black"
                             LET enemycasting1 = 0
                             IF darkflamed = 1 then
                                LET hp = hp - 25
                                LET mana = mana - 20
                                IF mana < 0 then
                                   LET mana = 0
                                END IF
                             ELSE
                                LET hp = hp - 20
                                LET mana = mana - 15
                                IF mana < 0 then
                                   LET mana = 0
                                END IF
                             END IF
                             PRINT "Press any key to continue."
                             GET KEY keyy
                          ELSE
                             LET enemycasting1 = 0
                             SET COLOR "blue"
                             PRINT "The DarkFlame Imp blasts you with Shadow Flames, but it can't get through your shield!"
                             SET COLOR "black"
                             PRINT "Press any key to continue."
                             GET KEY keyy
                          END IF
                       ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                          LET roll = randomnum(1,4,0)
                          IF roll > 2 then
                             SET COLOR "red"
                             PRINT "The DarkFlame Imp begins to powerup!"
                             SET COLOR "black"
                             LET enemycasting1 = 1
                             PRINT "Press any key to continue."
                             GET KEY keyy
                          ELSE
                             CALL enemyattacking
                          END IF
                       END IF
                    END IF
                 END IF
              END IF
              !----------------------------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
           END IF
           LET flag = 0
           LET darkflamed = 0
        ELSE IF roll >=1 and roll =< 7 then
           PRINT "Walking through the Cathedral, you find a bag of gold!"
           SET COLOR "blue"
           PRINT "You have gained 30 Gold!"
           SET COLOR "black"
           LET Gold = Gold + 30
           CALL refresh
           PRINT "Press any key to continue"
           GET KEY keyy
        END IF
        PAUSE 0.5
    END SUB

    SUB ThunderMountain
        IF ThunderSlayed = 1 then
           PRINT "You climb up the mountain. There is nothing here now..."
           PRINT "Press any key to continue."
           GET KEY keyy
        ELSE
           PRINT "You climb the mountain and you are attacked by the ThunderHawk!"
           GET KEY keyy
           !---------Thunder Hawk------------
           LET Enemyname$ = "ThunderHawk"
           LET enemylevel = 10
           LET enemymaxHP = 300
           LET enemyHP = enemymaxHP
           LET enemyarmor = 35
           LET enemyhigh = 50
           LET enemylow = 35
           LET enemyexp = 1000
           LET goldlow = 50
           LET goldhigh = 100
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF blasted =< 0 then
                       IF HShielded = 0 then
                          SET COLOR "red"
                          PRINT "The ThunderHawk blasts you with lightning!"
                          PRINT "You take 15 damage and are stunned for 1 turn!"
                          SET COLOR "black"
                          LET hp = hp - 15
                          LET stunned = 1
                          LET casting = 0
                          LET roll = randomnum(2,4,0)
                          LET blasted = roll
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       ELSE
                          SET COLOR "red"
                          PRINT "The ThunderHawk tries to blast you with lightning, but it can't get through your Holy Shield!"
                          SET COLOR "black"
                          LET roll = randomnum(2,4,0)
                          LET blasted = roll
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       END IF
                    ELSE
                       CALL enemyattacking
                       LET blasted = blasted - 1
                    END IF
                 END IF
              END IF

              !---------------------------------- 
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
              PRINT "As the ThunderHawk falls, you notice a glint of something in its nest!"
              PRINT "It is the Holy Avenger, a lengendary sword!"
              PRINT "You pick it up!"
              LET sword5 = 1
              LET ThunderSlayed = 1
              PRINT "Press any key to continue."
              GET KEY keyy
           END IF
           LET flag = 0
        END IF
    END SUB

    SUB PeakofDoom
        IF ShadowSlayed = 1 then
           PRINT "You climb up the Peak of Doom. There is nothing here now..."
           PRINT "Press any key to continue."
           GET KEY keyy
        ELSE
           PRINT "You climb the Peak of Doom and are attacked by the ShadowDrake!"
           GET KEY keyy
           !---------ShadowDrake------------
           LET Enemyname$ = "ShadowDrake"
           LET enemylevel = 10
           LET enemymaxHP = 300
           LET enemyHP = enemymaxHP
           LET enemyarmor = 35
           LET enemyhigh = 50
           LET enemylow = 35
           LET enemyexp = 1000
           LET goldlow = 50
           LET goldhigh = 100
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn---------------------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF enemycasting1 > 0 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF HShielded = 0 then
                       SET COLOR "red"
                       PRINT "The ShadowDrake continues to drain your life!"
                       PRINT "You are drained of 15 hp!"
                       SET COLOR "black"
                       LET enemycasting1 = enemycasting1 - 1
                       LET hp = hp - 15
                       LET enemyhp = enemyhp + 15
                       IF enemyhp > enemymaxhp then
                          LET enemyhp = enemymaxhp
                       END IF
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       LET enemycasting1 = enemycasting1 - 1
                       SET COLOR "blue"
                       PRINT "The ShadowDrake tries to drain your life but they can't get through your shield!"
                       SET COLOR "black"
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    END IF
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    LET roll = randomnum(1,10,0)
                    IF roll > 7 then
                       IF HShielded = 0 then
                          SET COLOR "red"
                          PRINT "The ShadowDrake begins to drain your life!"
                          PRINT "You are drained 15 of hp!"
                          SET COLOR "black"
                          LET hp = hp - 15
                          LET enemyhp = enemyhp + 15
                          IF enemyhp > enemymaxhp then
                             LET enemyhp = enemymaxhp
                          END IF
                          LET enemycasting1 = 3
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       ELSE
                          LET enemycasting1 = 3
                          SET COLOR "blue"
                          PRINT "The ShadowDrake tries to drain your life, but they can't get through your shield!"
                          SET COLOR "black"
                          PRINT "Press any key to continue."
                          GET KEY keyy
                       END IF
                    ELSE
                       CALL enemyattacking
                    END IF
                 END IF
              END IF
              !---------------------------------- 
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
              PRINT "As the ShadowDrake falls, you notice a glint of something behind a rock!"
              PRINT "It is the Holy Defender, a lengendary shield!"
              PRINT "You pick it up!"
              LET shield5 = 1
              LET ShadowSlayed = 1
           END IF
           LET flag = 0
        END IF
    END SUB

    SUB DragonCave
        PRINT "You enter the cave..."
        PAUSE 1
        IF ThunderSlayed = 1 and ShadowSlayed = 1 then
           SET COLOR "red"
           PRINT "A wave of flame comes at you!"
           SET COLOR "black"
           PAUSE 0.5
           PRINT "You run behind a rock just in time!"
           PAUSE 1
           PRINT "You are attacked by the Infernal Dragon!"
           GET KEY keyy
           !---------Infernal Dragon------------
           LET Enemyname$ = "Infernal Dragon"
           LET enemylevel = 10
           LET enemymaxHP = 500
           LET enemyHP = enemymaxHP
           LET enemyarmor = 45
           LET enemyhigh = 60
           LET enemylow = 50
           LET enemyexp = 5000
           LET goldlow =5000
           LET goldhigh =10000
           CALL enemyrefresh
           DO
              CALL yourturn
              PRINT
              PRINT "Press any key to continue."
              GET KEY keyy

              CALL refresh
              CALL enemyrefresh
              CALL checking1

              !---Enemy Turn----------
              IF flag = 0 then
                 WINDOW #2
                 IF enemystunned > 0 then
                    PRINT enemyname$;" is stunned!"
                    PAUSE 0.5
                 ELSE IF enemycasting1 = 1 and hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    IF HShielded = 0 then
                       SET COLOR "red"
                       PRINT "The Infernal Dragon blasts you with a wave of flame!"
                       PRINT "You take 60 damage!"
                       SET COLOR "black"
                       LET enemycasting1 = 0
                       LET hp = hp - 60
                    ELSE
                       SET COLOR "blue"
                       PRINT "The Infernal Dragon blasts you with flame, but it can't get through your Shield!"
                       SET COLOR "black"
                       LET enemycasting1 = 0
                    END IF
                 ELSE IF hp <> 0 and enemyhp <> 0 and enemystunned = 0 and flag = 0 then
                    LET roll = randomnum(1,3,0)
                    IF roll > 2 then
                       SET COLOR "red"
                       PRINT "The Infernal Dragon begins to powerup!"
                       SET COLOR "black"
                       LET enemycasting1 = 1
                       PRINT "Press any key to continue."
                       GET KEY keyy
                    ELSE
                       CALL enemyattacking
                    END IF
                 END IF
              END IF

              !----------------
              CALL refresh
              CALL enemyrefresh
              CALL checking2
           LOOP Until flag > 0
           IF flag = 1 then
              CALL winbattle
              LET superflag = 1
              PRINT "After slaying the Infernal Dragon, you return to the village."
              PRINT "Press any key to continue."
              GET KEY keyy
              CLEAR
              PRINT "The Knight greets you heartily."
              PRINT "Knight: Unbelievable! You have managed to slay"
              PRINT "the Infernal Dragon!"
              PRINT "All of the evil in this world is now gone!"
              PRINT "You can now rest your sword. There is now no need to fight any longer."
              PRINT
              PRINT "The news of your deed soon spreads to the rest of the world,"
              PRINT "and you become a lengendary hero."
           END IF
           LET flag = 0
        ELSE
           PRINT "The cave is empty..."
           PRINT "Press any key to continue."
           GET KEY keyy
        END IF
    END SUB

    SUB LOAD
        RESET #4: begin
        INPUT#4:name$
        INPUT#4:level
        INPUT#4:strength
        INPUT#4:stamina
        INPUT#4:Intellect
        INPUT#4:Spirit
        INPUT#4:hp
        INPUT#4:mana
        INPUT#4:maxhp
        INPUT#4:maxmana
        INPUT#4:location$
        INPUT#4:DAed
        INPUT#4:RAed
        INPUT#4:Hshielded
        INPUT#4:weaponname$
        INPUT#4:shieldname$
        INPUT#4:weaponpower
        INPUT#4:shieldpower
        INPUT#4:baseattack
        INPUT#4:minimumroll
        INPUT#4:maximumroll
        INPUT#4:minimumattack
        INPUT#4:maximumattack
        INPUT#4:basearmor
        INPUT#4:buffarmor
        INPUT#4:spells1$
        INPUT#4:spells2$
        INPUT#4:spells3$
        INPUT#4:spells4$
        INPUT#4:spells5$
        INPUT#4:spells6$
        INPUT#4:spells7$
        INPUT#4:spells8$
        INPUT#4:maxexp
        INPUT#4:exp
        INPUT#4:gold
        INPUT#4:strengthincrease
        INPUT#4:staminaincrease
        INPUT#4:intellectincrease
        INPUT#4:spiritincrease
        INPUT#4:enemyname$
        INPUT#4:enemylevel
        INPUT#4:enemymaxHP
        INPUT#4:enemyHP
        INPUT#4:enemyarmor
        INPUT#4:enemyattack
        INPUT#4:enemystunned
        INPUT#4:enemyexp
        INPUT#4:enemylow
        INPUT#4:enemyhigh
        INPUT#4:goldlow
        INPUT#4:goldhigh
        INPUT#4:superflag
        INPUT#4:flag
        INPUT#4:choice
        INPUT#4:flaggy
        INPUT#4:flaggy2
        INPUT#4:flaggy3
        INPUT#4:ask$
        INPUT#4:casting
        INPUT#4:undouble
        INPUT#4:roll
        INPUT#4:HoJcooldown
        INPUT#4:HScooldown
        INPUT#4:HShieldedcooldown
        INPUT#4:BoLcooldown
        INPUT#4:sword1
        INPUT#4:sword2
        INPUT#4:sword3
        INPUT#4:sword4
        INPUT#4:sword5
        INPUT#4:shield1
        INPUT#4:shield2
        INPUT#4:shield3
        INPUT#4:shield4
        INPUT#4:shield5
        INPUT#4:food1
        INPUT#4:food2
        INPUT#4:food3
        INPUT#4:food4
        INPUT#4:food5
        INPUT#4:food6
        INPUT#4:drink1
        INPUT#4:drink2
        INPUT#4:drink3
        INPUT#4:drink4
        INPUT#4:drink5
        INPUT#4:drink6
        INPUT#4:potion1
        INPUT#4:potion2
        INPUT#4:potion3
        INPUT#4:potion4
        INPUT#4:potion5
        INPUT#4:potion6
        INPUT#4:potion7
        INPUT#4:potion8
        INPUT#4:potion9
        INPUT#4:potion10
        INPUT#4:potion11
        INPUT#4:potion12
        INPUT#4:WornSword
        INPUT#4:ShortSword
        INPUT#4:LongSword
        INPUT#4:GreatSword
        INPUT#4:HolyAvenger
        INPUT#4:Buckler
        INPUT#4:SmallShield
        INPUT#4:LargeShield
        INPUT#4:TowerShield
        INPUT#4:HolyDefender
        INPUT#4:knightflag
        INPUT#4:Savannah
        INPUT#4:Forest
        INPUT#4:Lake
        INPUT#4:Jungle
        INPUT#4:Frigid
        INPUT#4:Volcanic
        INPUT#4:Cathedral
        INPUT#4:ThunderMountain
        INPUT#4:PeakofDoom
        INPUT#4:DragonCave
        INPUT#4:ThunderSlayed
        INPUT#4:ShadowSlayed
        INPUT#4:enemycasting1
        INPUT#4:enemycasting2
        INPUT#4:weakpoisoned
        INPUT#4:stunned
        INPUT#4:frozen
        INPUT#4:enemymana
        INPUT#4:enemymaxmana
        LET superflag = 0
        CALL REFRESH
    END SUB

    SUB SAVE
        CLEAR
        DO
           INPUT Prompt "Do you want to save?(y/n) ":ask$
           LET ask$ = Lcase$(ask$)[1:1]
           IF ask$ = "y" then
              WHEN error in
                   OPEN #99: name "Save.txt", access input, create old
                   INPUT#99:name$
                   CLOSE #99
                   LET exist=1
              USE
                   LET exist=0
              END WHEN
              IF exist = 1 then
                 ERASE #4
              END IF
                 CLOSE #4
                 OPEN #4:name "Save.txt",create newold, access outin
                 PRINT#4:name$
                 PRINT#4:level
                 PRINT#4:strength
                 PRINT#4:stamina
                 PRINT#4:Intellect
                 PRINT#4:Spirit
                 PRINT#4:hp
                 PRINT#4:mana
                 PRINT#4:maxhp
                 PRINT#4:maxmana
                 PRINT#4:location$
                 PRINT#4:DAed
                 PRINT#4:RAed
                 PRINT#4:Hshielded
                 PRINT#4:weaponname$
                 PRINT#4:shieldname$
                 PRINT#4:weaponpower
                 PRINT#4:shieldpower
                 PRINT#4:baseattack
                 PRINT#4:minimumroll
                 PRINT#4:maximumroll
                 PRINT#4:minimumattack
                 PRINT#4:maximumattack
                 PRINT#4:basearmor
                 PRINT#4:buffarmor
                 PRINT#4:spells1$
                 PRINT#4:spells2$
                 PRINT#4:spells3$
                 PRINT#4:spells4$
                 PRINT#4:spells5$
                 PRINT#4:spells6$
                 PRINT#4:spells7$
                 PRINT#4:spells8$
                 PRINT#4:maxexp
                 PRINT#4:exp
                 PRINT#4:gold
                 PRINT#4:strengthincrease
                 PRINT#4:staminaincrease
                 PRINT#4:intellectincrease
                 PRINT#4:spiritincrease
                 PRINT#4:enemyname$
                 PRINT#4:enemylevel
                 PRINT#4:enemymaxHP
                 PRINT#4:enemyHP
                 PRINT#4:enemyarmor
                 PRINT#4:enemyattack
                 PRINT#4:enemystunned
                 PRINT#4:enemyexp
                 PRINT#4:enemylow
                 PRINT#4:enemyhigh
                 PRINT#4:goldlow
                 PRINT#4:goldhigh
                 PRINT#4:superflag
                 PRINT#4:flag
                 PRINT#4:choice
                 PRINT#4:flaggy
                 PRINT#4:flaggy2
                 PRINT#4:flaggy3
                 PRINT#4:ask$
                 PRINT#4:casting
                 PRINT#4:undouble
                 PRINT#4:roll
                 PRINT#4:HoJcooldown
                 PRINT#4:HScooldown
                 PRINT#4:HShieldedcooldown
                 PRINT#4:BoLcooldown
                 PRINT#4:sword1
                 PRINT#4:sword2
                 PRINT#4:sword3
                 PRINT#4:sword4
                 PRINT#4:sword5
                 PRINT#4:shield1
                 PRINT#4:shield2
                 PRINT#4:shield3
                 PRINT#4:shield4
                 PRINT#4:shield5
                 PRINT#4:food1
                 PRINT#4:food2
                 PRINT#4:food3
                 PRINT#4:food4
                 PRINT#4:food5
                 PRINT#4:food6
                 PRINT#4:drink1
                 PRINT#4:drink2
                 PRINT#4:drink3
                 PRINT#4:drink4
                 PRINT#4:drink5
                 PRINT#4:drink6
                 PRINT#4:potion1
                 PRINT#4:potion2
                 PRINT#4:potion3
                 PRINT#4:potion4
                 PRINT#4:potion5
                 PRINT#4:potion6
                 PRINT#4:potion7
                 PRINT#4:potion8
                 PRINT#4:potion9
                 PRINT#4:potion10
                 PRINT#4:potion11
                 PRINT#4:potion12
                 PRINT#4:WornSword
                 PRINT#4:ShortSword
                 PRINT#4:LongSword
                 PRINT#4:GreatSword
                 PRINT#4:HolyAvenger
                 PRINT#4:Buckler
                 PRINT#4:SmallShield
                 PRINT#4:LargeShield
                 PRINT#4:TowerShield
                 PRINT#4:HolyDefender
                 PRINT#4:knightflag
                 PRINT#4:Savannah
                 PRINT#4:Forest
                 PRINT#4:Lake
                 PRINT#4:Jungle
                 PRINT#4:Frigid
                 PRINT#4:Volcanic
                 PRINT#4:Cathedral
                 PRINT#4:ThunderMountain
                 PRINT#4:PeakofDoom
                 PRINT#4:DragonCave
                 PRINT#4:ThunderSlayed
                 PRINT#4:ShadowSlayed
                 PRINT#4:enemycasting1
                 PRINT#4:enemycasting2
                 PRINT#4:weakpoisoned
                 PRINT#4:stunned
                 PRINT#4:frozen
                 PRINT#4:enemymana
                 PRINT#4:enemymaxmana
                 LET flaggy77 = 1
              ELSE IF ask$ = "n" then
                 LET flaggy77 = 1
              ELSE
                 SET COLOR "red"
                 PRINT "Invalid Input."
                 SET COLOR "black"
                 PAUSE 0.5
              END IF
           LOOP until flaggy77 = 1
       END SUB
   END MODULE


